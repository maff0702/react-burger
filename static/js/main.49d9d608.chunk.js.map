{"version":3,"sources":["components/order-details/order-details.module.css","pages/main/main.module.css","pages/profile-orders/profile-orders.module.css","pages/auth/auth.module.css","components/app-header/app-header.module.css","hooks/hooks.ts","components/app-header/app-header.tsx","utils/constants.ts","utils/api.ts","services/main-service.ts","store/ingredientsSlice.ts","components/burger-ingredients/ingredient-card.tsx","components/burger-ingredients/ingredients.tsx","components/burger-ingredients/burger-ingredients.tsx","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","images/ready-icon.gif","components/order-details/order-details.tsx","store/constructorSlice.ts","components/burger-constructor/ingredient-element.tsx","components/burger-constructor/ingredients.tsx","components/burger-constructor/burger-constructor.tsx","pages/main/main.tsx","services/auth-service.ts","store/authSlice.ts","pages/auth/login.tsx","pages/auth/register.tsx","pages/auth/forgot-password.tsx","pages/auth/reset-password.tsx","pages/user/profile-settings.tsx","utils/date-format.ts","utils/order-price.ts","utils/select-ingredients.ts","utils/order-status.tsx","store/wsOrdersSlice.ts","components/order-card/order-card.tsx","pages/profile-orders/profile-orders.tsx","pages/order-page/order.tsx","components/protected-route/protected-route.tsx","pages/user/profile.tsx","pages/ingredient-page/ingredient.tsx","pages/feed/feed.tsx","components/ingredient-details/ingredient-details.tsx","components/order-modal/order-modal.tsx","pages/not-found/not-fount.tsx","components/app/app.tsx","reportWebVitals.ts","store/index.tsx","store/middleware/wsOrdersMiddleware.ts","index.tsx","pages/user/profile.module.css","components/burger-ingredients/burger-ingredient.module.css","pages/order-page/order.module.css","pages/feed/feed.module.css","components/order-modal/order-modal.module.css","pages/ingredient-page/ingredient.module.css","components/ingredient-details/ingredient-details.module.css","components/burger-constructor/burger-constructor.module.css","components/modal/modal.module.css","components/order-card/order-card.module.css","components/modal-overlay/modal-overlay.module.css","components/app/app.module.css"],"names":["module","exports","useDispatch","dispatchHook","useSelector","selectorHook","Header","className","styles","header","container","header__content","header__menu","header__list","exact","to","isActive","link","link_active","type","header__link","header__logo","header__profile","API_URL","WSS_URL","axiosAPI","axios","create","baseURL","headers","interceptors","request","use","config","Authorization","localStorage","getItem","response","a","error","originalRequest","status","_isRetry","post","token","setItem","data","refreshToken","accessToken","split","console","log","MainService","idIngredients","ingredients","get","query","requestIngredients","createAsyncThunk","getIngredients","ingredientsSlice","createSlice","name","initialState","dataIngredients","isError","isLoading","currentIngredient","isModalIngredientDetails","reducers","ingredientCurrentIncrement","state","action","payload","item","map","obj","__v","_id","ingredientCurrentDecrement","id","deletedAllCurrentIngredient","openModalIngredientDetails","ingredient","closeModalIngredientDetails","extraReducers","pending","toString","fulfilled","rejected","actions","IngredientCard","location","useLocation","dispatch","useDrag","dragRef","cart__ingredient","onClick","ref","pathname","background","icon__counter","count","size","src","image","alt","price","Ingredients","title","burger__ingredient","BurgerIngredients","useState","current","setCurrent","ingredientsSection","useRef","bunRef","sauceRef","mainRef","burger__content","length","dFlex","scrollIntoView","behavior","value","active","tCenter","wrapper__ingrediends","onScroll","scrollSection","getBoundingClientRect","top","bunList","sauceList","mainList","ModalOverlay","closeModal","children","modal","modal_active","modalRoot","document","getElementById","Modal","setActive","history","useHistory","constructors","order","replace","closeModalEsc","key","useEffect","addEventListener","removeEventListener","ReactDOM","createPortal","modal__body","modal__body_active","e","stopPropagation","modal__close","OrderDetails","number","details__order","readyIcon","height","sendOrder","constructorSlice","bun","isModalOrderDetails","addElementConstructor","newId","push","addBunConstructor","deleteElementConstructor","filter","_","index","moveIngredientConstructor","newArr","dragIngredient","dragIndex","splice","hoverIndex","openModalOrderDetails","closeModalOrderDetails","IngedientElement","useDrop","accept","hover","monitor","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","drop","collect","isDragging","opacity","drag","draggable","style","text","thumbnail","handleClose","listIngredients","BurgerConstructor","dropTarget","totalPrice","reduce","sum","constructor__content","constructor__ingredients","width","isLocked","constructor__info","forEach","element","Main","content__body","DndProvider","backend","HTML5Backend","AuthService","email","password","authAPI","patch","requestRegister","formData","register","requestLogin","login","requestLogout","logout","requestCheckAuth","checkUser","requestUpdateUser","updateUser","requestForgotPassword","forgotPassword","requestResetPassword","resetPassword","authSlice","user","isAuth","forgotStatus","resetStatus","removeItem","Login","setState","auth","onChange","event","target","from","auth__container","auth__form","onSubmit","preventDefault","placeholder","form__text","Register","ForgotPassword","ResetPassword","ProfileSettings","profile__form","icon","onIconClick","button__group","dateFormat","date","moment","locale","daysAgo","timeGreenwich","format","time","subtract","OrderPrice","cur","SelectIngredients","el","OrderStatus","color","requestOrders","getOrders","wsOrders","orders","total","totalToday","message","url","isConnected","statusCode","isModalOrder","orderModalTitle","wsConnectionStart","wsConnectionSuccess","wsGetMessage","success","wsConnectionClosed","wsConnectionClosedStatus","wsConnectionError","orderModalOpen","orderModalClose","OrderCard","path","order__card","order__info","updatedAt","slice","card__info","card__image","i","zIndex","card__price","Orders","order__tape","reverse","Order","queryRequest","pop","ingredientsAll","ingredientsList","indexOf","order__number","ingredients__container","ingredient__info","ingredient__image","ingredient__title","order__price","ProtectedRoute","rest","render","Profile","menuInfo","component","profile__container","profile__menu","menu__list","profile__content","Ingredient","useParams","info","details__ingredient","details__ingredient_info","details__ingredient_span","calories","proteins","fat","carbohydrates","Feed","order__container","info__table","table__ready","table__preparing","order__all","order__today","IngredientDetails","OrderModal","NotFound","App","wrapper","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","ingredientReducer","constructorReducer","authReducer","wsOrdersReducer","middleware","getDefaultMiddleware","concat","socket","next","WebSocket","onopen","onmessage","JSON","parse","onerror","onclose","code","close","StrictMode"],"mappings":"6HACAA,EAAOC,QAAU,CAAC,eAAiB,wC,oBCAnCD,EAAOC,QAAU,CAAC,cAAgB,8B,oBCAlCD,EAAOC,QAAU,CAAC,YAAc,sC,mBCAhCD,EAAOC,QAAU,CAAC,gBAAkB,8BAA8B,WAAa,yBAAyB,WAAa,2B,mBCArHD,EAAOC,QAAU,CAAC,UAAY,mDAAmD,OAAS,2BAA2B,gBAAkB,oCAAoC,aAAe,iCAAiC,aAAe,iCAAiC,aAAe,iCAAiC,KAAO,yBAAyB,YAAc,gCAAgC,aAAe,iCAAiC,gBAAkB,sC,4FCM9bC,EAAc,kBAAMC,eACpBC,EAA+CC,I,wDCH7C,SAASC,IACtB,OACE,wBAAQC,UAAWC,IAAOC,OAA1B,SACE,sBAAKF,UAAWC,IAAOE,UAAW,cAAeF,IAAOG,gBAAxD,UACE,qBAAKJ,UAAWC,IAAOI,aAAvB,SACE,qBAAIL,UAAWC,IAAOK,aAAtB,UACE,oBAAIN,UAAU,OAAd,SACE,eAAC,IAAD,CACEO,OAAK,EAACC,GAAG,IACTR,UAAW,SAAAS,GAAQ,OAAIR,IAAOS,KAAO,KAAOD,EAAWR,IAAOU,YAAc,KAF9E,UAIE,cAAC,aAAD,CAAYC,KAAK,cACjB,sBAAMZ,UAAU,OAAhB,qFAGJ,oBAAIA,UAAW,cAAgBC,IAAOY,aAAtC,SACE,eAAC,IAAD,CACEL,GAAG,QACHR,UAAW,SAAAS,GAAQ,OAAIR,IAAOS,KAAO,KAAOD,EAAWR,IAAOU,YAAc,KAF9E,UAIE,cAAC,WAAD,CAAUC,KAAK,cACf,sBAAMZ,UAAU,OAAhB,iGAKR,qBAAKA,UAAWC,IAAOa,aAAvB,SACE,cAAC,IAAD,CAAMN,GAAG,IAAT,SAAa,cAAC,OAAD,QAEf,qBAAKR,UAAWC,IAAOc,gBAAvB,SACE,eAAC,IAAD,CACEP,GAAG,WACHR,UAAW,SAAAS,GAAQ,OAAIR,IAAOS,KAAO,KAAOD,EAAWR,IAAOU,YAAc,KAF9E,UAIE,cAAC,cAAD,CAAaC,KAAK,cAClB,sBAAMZ,UAAU,QAAhB,uG,qHCxCCgB,EAAU,wCACVC,EAAU,yC,iBCEjBC,EAAWC,IAAMC,OAAO,CAC5BC,QAASL,EACTM,QAAS,CACP,eAAgB,sBAIpBJ,EAASK,aAAaC,QAAQC,KAAI,SAAAC,GAEhC,OADAA,EAAOJ,QAAQK,cAAf,iBAAyCC,aAAaC,QAAQ,gBACvDH,KAGTR,EAASK,aAAaO,SAASL,KAAI,SAAAC,GACjC,OAAOA,IADT,+BAAAK,EAAA,MAEG,WAAOC,GAAP,iBAAAD,EAAA,yDACKE,EAAkBD,EAAMN,OACA,MAA1BM,EAAMF,SAASI,QAA4C,MAA1BF,EAAMF,SAASI,QAAoBF,EAAMN,OAAOS,WAAYF,EAFhG,wBAGCA,EAAgBE,UAAW,EAH5B,kBAK0BhB,IAAMiB,KAAKpB,EAAQ,cAAe,CAACqB,MAAOT,aAAaC,QAAQ,kBALzF,cAKSC,EALT,OAMGF,aAAaU,QAAQ,eAAgBR,EAASS,KAAKC,cACnDZ,aAAaU,QAAQ,cAAeR,EAASS,KAAKE,YAAYC,MAAM,KAAK,IAP5E,kBAQUxB,EAASM,QAAQS,IAR3B,kCAUGU,QAAQC,IAAI,kFAVf,cAYOZ,EAZP,0DAFH,uDAkBed,I,EAAAA,ICxBM2B,E,qIACnB,WAAuBC,GAAvB,0FACS5B,EAASkB,KAAiB,UAAW,CAACW,YAAaD,KAD5D,2C,0HAGA,uGACS5B,EAAS8B,IAAqB,iBADvC,2C,oHAGA,WAAuBC,GAAvB,0FACS/B,EAAS8B,IAAT,iBAAmCC,KAD5C,2C,8DCZWC,EAAqBC,YAChC,iCADgD,sBAEhD,4BAAApB,EAAA,sEACyBb,EAASkC,iBADlC,cACQtB,EADR,yBAESA,EAASS,MAFlB,4CAoBIc,EAAmBC,YAAY,CACnCC,KAAM,cACNC,aAVqC,CACrCC,gBAAiB,GACjBC,SAAS,EACTC,WAAW,EACXC,kBAAmB,KACnBC,0BAA0B,GAM1BC,SAAU,CACRC,2BAA4B,SAACC,EAAOC,GACF,QAA7BA,EAAOC,QAAQC,KAAKvD,OAAgBoD,EAAMP,gBAAkBO,EAAMP,gBAAgBW,KAAI,SAACC,GAAD,MAAsB,QAAbA,EAAIzD,KAAJ,2BAAyByD,GAAzB,IAA8BC,IAAK,IAAKD,MAC1IL,EAAMP,gBAAkBO,EAAMP,gBAAgBW,KAAI,SAACC,GAAD,OAASA,EAAIE,MAAQN,EAAOC,QAAQC,KAAKI,IAAhC,2BAA0CF,GAA1C,IAA+CC,IAAKD,EAAIC,IAAM,IAAKD,KAC9HL,EAAMP,gBAAkBO,EAAMP,gBAAgBW,KAAI,SAACC,GAAD,MAAuB,QAAbA,EAAIzD,MAAkByD,EAAIE,MAAQN,EAAOC,QAAQC,KAAKI,IAAvD,YAAC,eAAiEF,GAAlE,IAAuEC,IAAK,IAAKD,MAE9IG,2BAA4B,SAACR,EAAOC,GAClCD,EAAMP,gBAAkBO,EAAMP,gBAAgBW,KAAI,SAACC,GAAD,OAAQA,EAAIE,MAAQN,EAAOC,QAAQO,GAA3B,2BAAoCJ,GAApC,IAAyCC,IAAKD,EAAIC,IAAM,IAAKD,MAEzHK,4BAA6B,SAACV,GAC5BA,EAAMP,gBAAkBO,EAAMP,gBAAgBW,KAAI,SAACC,GAAD,mBAAC,eAAYA,GAAb,IAAkBC,IAAK,QAE3EK,2BAA4B,SAACX,EAAOC,GAClCD,EAAMJ,kBAAoBK,EAAOC,QAAQU,WACzCZ,EAAMH,0BAA2B,GAEnCgB,4BAA6B,SAACb,GAC5BA,EAAMJ,kBAAoB,KAC1BI,EAAMH,0BAA2B,IAGrCiB,eAAa,mBACV5B,EAAmB6B,QAAQC,YAAa,SAAChB,GAAYA,EAAML,WAAY,KAD7D,cAEVT,EAAmB+B,UAAUD,YAAa,SAAChB,EAAOC,GACjDD,EAAMP,gBAAkBQ,EAAOC,QAAQ3B,KACvCyB,EAAML,WAAY,KAJT,cAMVT,EAAmBgC,SAASF,YAAa,SAAChB,GACzCA,EAAMN,SAAU,EAChBM,EAAML,WAAY,KART,KAaR,EAMHN,EAAiB8B,QALnBpB,EADK,EACLA,2BACAS,EAFK,EAELA,2BACAG,EAHK,EAGLA,2BACAE,EAJK,EAILA,4BACAH,EALK,EAKLA,4BAEarB,IAAf,QCzBe+B,EA/B8B,SAAC,GAAkB,IAAjBR,EAAgB,EAAhBA,WACvCS,EAAWC,cACXC,EAAW5F,IACjB,EAAoB6F,YAAQ,CAC1B5E,KAAM,aACNuD,KAAMS,IAFCa,EAAT,oBAOA,OACE,qBAAKzF,UAAWC,IAAOyF,iBACrBC,QALoB,WACtBJ,EAASZ,EAA2B,CAACC,iBAKnCgB,IAAKH,EAFP,SAIE,eAAC,IAAD,CAEEjF,GAAI,CACFqF,SAAS,gBAAD,OAAkBjB,EAAWL,KACrCP,MAAO,CAAE8B,WAAYT,IAJzB,UAOA,sBAAMrF,UAAWC,IAAO8F,cAAxB,SAA4D,IAAnBnB,EAAWN,KAAa,cAAC,UAAD,CAAS0B,MAAOpB,EAAWN,IAAK2B,KAAK,YACtG,qBAAKjG,UAAU,YAAYkG,IAAKtB,EAAWuB,MAAOC,IAAKxB,EAAWrB,OAClE,oBAAGvD,UAAU,qCAAb,UAAmD4E,EAAWyB,MAA9D,IAAqE,cAAC,eAAD,CAAczF,KAAK,eACxF,mBAAGZ,UAAU,8BAAb,SAA4C4E,EAAWrB,SAThDqB,EAAWL,QCHT+B,EAf2B,SAAC,GAAD,IAAE/D,EAAF,EAAEA,KAAM3B,EAAR,EAAQA,KAAM2F,EAAd,EAAcA,MAAd,OACxC,oCACE,oBAAIvG,UAAU,mCAAd,SAAkDuG,IAClD,qBAAKvG,UAAWC,IAAOuG,mBAAqB,kBAA5C,SACGjE,EAAK6B,KAAI,SAACD,GAAD,OACRA,EAAKvD,OAASA,GACZ,cAAC,EAAD,CAEEgE,WAAYT,GADPA,EAAKI,cCgEPkC,EA5Ee,WAC5B,MAA8C5G,GAAY,SAACmE,GAAD,OAAWA,EAAMjB,eAApEW,EAAP,EAAOA,QAASC,EAAhB,EAAgBA,UAAWF,EAA3B,EAA2BA,gBAC3B,EAA8BiD,mBAAS,OAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACMC,EAAqBC,iBAAuB,MAC5CC,EAASD,iBAAwB,MACjCE,EAAWF,iBAAwB,MACnCG,EAAUH,iBAAwB,MAcxC,OACE,0BAAS9G,UAAWC,IAAOiH,gBAAiB,eAA5C,UACE,oBAAIlH,UAAU,4BAAd,oGACgB,OAAfyD,QAAe,IAAfA,OAAA,EAAAA,EAAiB0D,QAAS,GAAK,sBAAKnH,UAAWC,IAAOmH,MAAQ,QAA/B,UAC9B,sBAAMzB,QAAS,WAAK,IAAD,EAAO,OAANoB,QAAM,IAANA,GAAA,UAAAA,EAAQJ,eAAR,SAAiBU,eAAe,CAACC,SAAU,YAAa7C,GAAG,MAA/E,SACE,cAAC,MAAD,CAAK8C,MAAM,MAAMC,OAAoB,QAAZb,EAAmBhB,QAASiB,EAArD,8CAIF,sBAAMjB,QAAS,WAAK,IAAD,EAAS,OAARqB,QAAQ,IAARA,GAAA,UAAAA,EAAUL,eAAV,SAAmBU,eAAe,CAACC,SAAU,YAAa7C,GAAG,QAAjF,SACE,cAAC,MAAD,CAAK8C,MAAM,MAAMC,OAAoB,QAAZb,EAAmBhB,QAASiB,EAArD,8CAIA,sBAAMjB,QAAS,WAAK,IAAD,EAAQ,OAAPsB,QAAO,IAAPA,GAAA,UAAAA,EAASN,eAAT,SAAkBU,eAAe,CAACC,SAAU,YAAa7C,GAAG,OAAhF,SACA,cAAC,MAAD,CAAK8C,MAAM,QAAQC,OAAoB,UAAZb,EAAqBhB,QAASiB,EAAzD,6DAKJ,sBAAK5G,UAAWC,IAAOwH,QAAS,oCAAhC,UACG/D,GAAW,4VACXC,GAAa,qHAEA,OAAfF,QAAe,IAAfA,OAAA,EAAAA,EAAiB0D,QAAS,GAC3B,0BACEnH,UAAWC,IAAOyH,qBAClB9B,IAAKiB,EACLc,SAxCc,WAAa,IAAD,QACxBC,EAAiC,OAAGf,QAAH,IAAGA,GAAH,UAAGA,EAAoBF,eAAvB,aAAG,EAA6BkB,wBAAwBC,IACzFC,EAA2B,OAAGhB,QAAH,IAAGA,GAAH,UAAGA,EAAQJ,eAAX,aAAG,EAAiBkB,wBAAwBC,IACvEE,EAA6B,OAAGhB,QAAH,IAAGA,GAAH,UAAGA,EAAUL,eAAb,aAAG,EAAmBkB,wBAAwBC,IAC3EG,EAA4B,OAAGhB,QAAH,IAAGA,GAAH,UAAGA,EAASN,eAAZ,aAAG,EAAkBkB,wBAAwBC,IAC5EF,GAAiBG,GAAWC,GAAaC,IACvCF,GAAWH,GAAehB,EAAW,OACrCoB,GAAaJ,GAAehB,EAAW,OACvCqB,GAAYL,GAAehB,EAAW,WA6BzC,UAKE,yBAAShB,IAAKmB,EAAd,SACE,cAAC,EAAD,CACExE,KAAMkB,EACN7C,KAAK,MACL2F,MAAM,qCAGV,yBAASX,IAAKoB,EAAd,SACE,cAAC,EAAD,CACEzE,KAAMkB,EACN7C,KAAK,QACL2F,MAAM,qCAGV,yBAASX,IAAKqB,EAAd,SACE,cAAC,EAAD,CACE1E,KAAMkB,EACN7C,KAAK,OACL2F,MAAM,wD,qECxDH2B,GAT8B,SAAC,GAAD,IAAEV,EAAF,EAAEA,OAAQW,EAAV,EAAUA,WAAYC,EAAtB,EAAsBA,SAAtB,OAC3C,qBACEpI,UAAWwH,EAASvH,KAAOoI,MAAM,IAAIpI,KAAOqI,aAAerI,KAAOuH,OAClE7B,QAASwC,EAFX,SAIGC,KCJCG,GAAYC,SAASC,eAAe,UAsD3BC,GA7CgB,SAAC,GAA0C,IAAzClB,EAAwC,EAAxCA,OAAQmB,EAAgC,EAAhCA,UAAWpC,EAAqB,EAArBA,MAAO6B,EAAc,EAAdA,SACnD7C,EAAW5F,IACXiJ,EAAmBC,cACnBxD,EAAWC,cACazF,GAAY,SAACmE,GAAD,OAASA,EAAM8E,aAAaC,MAAMpF,eAElDgF,EAAY,MAEtC,IAAMR,EAAa,WAAO,IAAD,IACpBQ,GAAWpD,EAASoD,KAEvBC,EAAQI,QAAQ,CACdnD,UAAkB,OAARR,QAAQ,IAARA,OAAA,EAAAA,EAAUrB,OAAV,iBACLqB,QADK,IACLA,GADK,UACLA,EAAUrB,aADL,iBACL,EAAiB8B,kBADZ,aACL,EAA6BD,UAChC,OAIAoD,EAAgB,SAAC,GACT,WADkC,EAAxBC,KACCf,KAQzB,OALAgB,qBAAU,WAER,OADAX,SAASY,iBAAiB,UAAWH,GAC9B,kBAAMT,SAASa,oBAAoB,UAAWJ,OAG/CzB,GAAUe,GAAYe,IAASC,aAErC,cAAC,GAAD,CACE/B,OAAQA,EACRW,WAAYA,EAFd,SAIE,sBAAKnI,UAAWwH,EAASvH,KAAOuJ,YAAY,IAAIvJ,KAAOwJ,mBAAqBxJ,KAAOuJ,YAAa7D,QAAS,SAAA+D,GAAC,OAAEA,EAAEC,mBAA9G,UACE,qBAAK3J,UAAW,6BAA6BC,KAAOC,OAApD,SAA6DqG,IAC7D,sBAAMvG,UAAWC,KAAO2J,aAAxB,SACE,cAAC,YAAD,CAAWhJ,KAAK,UAAU+E,QAASwC,MAEpCC,OAIPG,IAAa,M,qBC9DA,OAA0B,uCCK1B,SAASsB,KACtB,MAAuChK,GAAY,SAACmE,GAAD,OAAWA,EAAM8E,aAAaC,SAAzEe,EAAR,EAAQA,OAAQpG,EAAhB,EAAgBA,QAASC,EAAzB,EAAyBA,UACzB,OAAGD,EACM,mLAENC,EACM,qHAGT,sBAAK3D,UAAWC,KAAO8J,eAAvB,UACE,mBAAG/J,UAAU,mCAAb,SAAiD8J,IACjD,mBAAG9J,UAAU,kCAAb,iIACA,sBAAMA,UAAU,QAAhB,SAAwB,qBAAKkG,IAAK8D,GAAW5D,IAAI,uCAAS6D,OAAO,UACjE,mBAAGjK,UAAU,oCAAb,qJACA,mBAAGA,UAAU,6DAAb,+P,sBCdSkK,GAAY/G,YACvB,wBADuC,uCAEvC,WAAOL,GAAP,eAAAf,EAAA,sEAEyBb,EAASgJ,UAAUpH,GAF5C,cAEQhB,EAFR,yBAGSA,EAASS,MAHlB,2CAFuC,uDAoCnC4H,GAAmB7G,YAAY,CACnCC,KAAM,cACNC,aAdsC,CACtCT,YAAa,GACbqH,IAAK,KACLrB,MAAO,CACLe,OAAQ,KACRvG,KAAM,GACNG,SAAS,EACTC,WAAW,GAEb0G,qBAAqB,GAMrBvG,SAAU,CACRwG,sBAAuB,SAACtG,EAAOC,GAC7B,IAAME,EAAOF,EAAOC,QAAQC,KACtBoG,EAASvG,EAAMjB,YAAYoE,OACjCnD,EAAMjB,YAAYyH,KAAlB,2BAA2BrG,GAA3B,IAAiCoG,MAAMA,MAEzCE,kBAAmB,SAACzG,EAAOC,GACzBD,EAAMoG,IAAMnG,EAAOC,QAAQC,MAE7BuG,yBAA0B,SAAC1G,EAAOC,GAChCD,EAAMjB,YAAciB,EAAMjB,YAAY4H,QAAO,SAACC,EAAGC,GAAJ,OAAsBA,IAAU5G,EAAOC,QAAQ2G,UAE9FC,0BAA2B,SAAC9G,EAAOC,GACjC,IAAM8G,EAAM,aAAO/G,EAAMjB,aACnBiI,EAAiBhH,EAAMjB,YAAYkB,EAAOC,QAAQ+G,WACxDF,EAAOG,OAAOjH,EAAOC,QAAQ+G,UAAW,GACxCF,EAAOG,OAAOjH,EAAOC,QAAQiH,WAAY,EAAGH,GAC5ChH,EAAMjB,YAAN,aAAwBgI,IAE1BK,sBAAuB,SAACpH,GAAWA,EAAMqG,qBAAsB,GAC/DgB,uBAAwB,SAACrH,GAAWA,EAAMqG,qBAAsB,IAElEvF,eAAa,qBACVoF,GAAUnF,QAAQC,YAAa,SAAChB,GAAWA,EAAM+E,MAAMpF,WAAY,KADzD,eAEVuG,GAAUjF,UAAUD,YAAa,SAAChB,EAAOC,GACxCD,EAAM+E,MAAMe,OAAS7F,EAAOC,QAAQ6E,MAAMe,OAC1C9F,EAAMjB,YAAc,GACpBiB,EAAMoG,IAAM,KACZpG,EAAM+E,MAAMxF,KAAOU,EAAOC,QAAQX,KAClCS,EAAM+E,MAAMpF,WAAY,KAPf,eASVuG,GAAUhF,SAASF,YAAa,SAAChB,GAChCA,EAAM+E,MAAMrF,SAAU,EACtBM,EAAM+E,MAAMpF,WAAY,EACxBK,EAAM+E,MAAMe,OAAS,KACrB9F,EAAM+E,MAAMxF,KAAO,MAbV,MAkBR,GAOH4G,GAAiBhF,QANnBmF,GADK,GACLA,sBACAG,GAFK,GAELA,kBACAC,GAHK,GAGLA,yBACAI,GAJK,GAILA,0BACAM,GALK,GAKLA,sBACAC,GANK,GAMLA,uBAEalB,MAAf,QCfemB,GAtDgC,SAAC,GAAqC,IAApC/I,EAAmC,EAAnCA,KAAMsI,EAA6B,EAA7BA,MAC/CtF,EAAW5F,cACX8E,EAAKlC,EAAKgC,IACVqB,EAAMkB,iBAAuB,MAEnC,EAAiByE,YAAQ,CACvBC,OAAQ,iBACRC,MAAO,SAACtH,EAAgBuH,GAAa,IAAD,EAClC,GAAK9F,EAAIe,QAAT,CACA,IAAMsE,EAAY9G,EAAK0G,MACjBM,EAAaN,EACnB,GAAII,IAAcE,EAAlB,CACA,IAAMQ,EAAiB,UAAG/F,EAAIe,eAAP,aAAG,EAAakB,wBACjC+D,GAAgBD,EAAkBE,OAASF,EAAkB7D,KAAO,EAEpEgE,EADeJ,EAAQK,kBACkBC,EAAIL,EAAkB7D,IACjEmD,EAAYE,GAAcW,EAAeF,GACzCX,EAAYE,GAAcW,EAAeF,IAC7CrG,EAASuF,GAA0B,CAACG,YAAUE,gBAC9ChH,EAAK0G,MAAQM,QAdRc,EAAT,oBAiBA,EAA6BzG,YAAQ,CACnC5E,KAAM,iBACNuD,KAAM,WACJ,MAAO,CAACM,KAAIoG,UAEdqB,QAAS,SAACR,GAAD,MAGM,CACbS,WAAYT,EAAQS,iBATxB,mBAaMC,EAbN,KAAQD,WAa6B,EAAI,EAGzC,OAFAE,EAdA,MAcKJ,EAAKrG,IAGR,uBAAMA,IAAKA,EAAK0G,WAAS,EAACC,MAAO,CAACH,WAAlC,UACE,cAAC,WAAD,CAAUxL,KAAK,YACf,cAAC,qBAAD,CACE4L,KAAMjK,EAAKgB,KACX8C,MAAO9D,EAAK8D,MACZoG,UAAWlK,EAAK4D,MAChBuG,YAAa,WACXnH,EAASmF,GAAyB,CAACG,QAAOpG,QAC1Cc,EAASf,EAA2B,CAACC,eCrDhC6B,GAXS,WACtB,IAAMqG,EAAkB9M,GAAY,SAACmE,GAAD,OAAWA,EAAM8E,aAAa/F,eAClE,OACE,qBAAK/C,UAAWC,KAAOyH,qBAAvB,SACGiF,EAAgBvI,KAAI,SAACD,EAAM0G,GAAP,OACnB,cAAC,GAAD,CAAmCA,MAAOA,EAAOtI,KAAM4B,GAAhCA,EAAKoG,aC6FrBqC,GAlFe,WAC5B,IAAMrH,EAAW5F,IACXiJ,EAAmBC,cACzB,EAA4ChJ,GAAY,SAACmE,GAAD,OAAWA,EAAM8E,gBAAjE/F,EAAR,EAAQA,YAAasH,EAArB,EAAqBA,oBACfD,EAAMvK,GAAY,SAACmE,GAAD,OAAWA,EAAM8E,aAAasB,OAEtD,EAAuBmB,YAAQ,CAC7BC,OAAQ,aACRS,KAF6B,SAExB9H,GACc,QAAdA,EAAKvD,MACN2E,EAASkF,GAAkB,CAACtG,UAC5BoB,EAASxB,EAA2B,CAACI,YAErCoB,EAAS+E,GAAsB,CAACnG,UAChCoB,EAASxB,EAA2B,CAACI,cARlC0I,EAAT,oBAaMC,EAAa/J,EAAYgK,QAAO,SAACC,EAAarG,GAClD,OAAOqG,GAAG,OAAGrG,QAAH,IAAGA,OAAH,EAAGA,EAASN,SACrB,KAAS,OAAH+D,QAAG,IAAHA,OAAA,EAAAA,EAAK/D,OAAqB,GAAV,OAAH+D,QAAG,IAAHA,OAAA,EAAAA,EAAK/D,OAAY,GAcvC,OACE,sBAAKrG,UAAWC,KAAOgN,qBAAqBrH,IAAKiH,EAAjD,UACE,0BAAS7M,UAAWC,KAAOiN,yBAA3B,UACE,sBAAMlN,UAAU,SAASuM,MAAO,CAACY,MAAM,SAAvC,SACG/C,EAAM,cAAC,qBAAD,CACLxJ,KAAK,MACLwM,UAAU,EACVZ,KAAI,UAAKpC,EAAI7G,KAAT,+BACJ8C,MAAO+D,EAAI/D,MACXoG,UAAWrC,EAAIjE,QACZ,mPAENpD,EAAYoE,OAAS,EACpB,cAAC,GAAD,IACA,sBAAMnH,UAAU,QAAhB,gRAEF,sBAAMA,UAAU,QAAQuM,MAAO,CAACY,MAAM,SAAtC,SACG/C,GAAO,cAAC,qBAAD,CACNxJ,KAAK,SACLwM,UAAU,EACVZ,KAAI,UAAKpC,EAAI7G,KAAT,yBACJ8C,MAAO+D,EAAI/D,MACXoG,UAAWrC,EAAIjE,aAIrB,sBAAKnG,UAAW,SAAWC,KAAOoN,kBAAlC,UACE,uBAAMrN,UAAU,qCAAhB,UAAqD,+BAAO8M,IAAkB,cAAC,eAAD,CAAclM,KAAK,eAChGwJ,EAAM,cAAC,SAAD,CACLxJ,KAAK,UACLqF,KAAK,SACLN,QA3CY,WAClB,GAAG/D,aAAaC,QAAQ,eAAe,CACrC0D,EAAS6F,MACT,IAAMtI,EAA0B,GAChCC,EAAYuK,SAAQ,SAACC,GAAD,OAA0BzK,EAAc0H,KAAK+C,EAAQhJ,QACtE6F,GAAK7E,EAAS2E,GAAU,CAACE,EAAI7F,KAAN,OAAczB,EAAd,CAA6BsH,EAAI7F,QAC3DgB,EAASb,UAETkE,EAAQI,QAAQ,CAACnD,SAAU,YAgClB,6FAMK,MAEd,cAAC,GAAD,CACE2B,OAAQ6C,EACR1B,UAAW0C,GACX9E,MAAM,GAHR,SAKE,cAACsD,GAAD,U,qBC/EO2D,GAXE,WACf,OACE,sBAAMxN,UAAWC,KAAOwN,cAAxB,SACE,eAACC,EAAA,EAAD,CAAaC,QAASC,IAAtB,UACE,cAAC,EAAD,IACA,cAAC,GAAD,U,oBCIaC,I,0IACnB,gGAAuBtK,EAAvB,EAAuBA,KAAMuK,EAA7B,EAA6BA,MAAOC,EAApC,EAAoCA,SAApC,kBACSC,EAAQ5L,KAAoB,iBAAkB,CAACmB,OAAMuK,QAAOC,cADrE,2C,iHAGA,8FAAoBD,EAApB,EAAoBA,MAAOC,EAA3B,EAA2BA,SAA3B,kBACSC,EAAQ5L,KAAiB,cAAe,CAAC0L,QAAOC,cADzD,2C,kHAGA,uGACSC,EAAQ5L,KAAkB,eAAgB,CAACC,MAAOT,aAAaC,QAAQ,mBADhF,2C,uHAGA,uGACSmM,EAAQ5L,KAAoB,cAAe,CAACC,MAAOT,aAAaC,QAAQ,mBADjF,2C,oHAGA,uGACSmM,EAAQhL,IAAgB,eADjC,2C,qHAGA,8FAAyBO,EAAzB,EAAyBA,KAAMuK,EAA/B,EAA+BA,MAA/B,kBACSE,EAAQC,MAAmB,aAAc,CAAC1K,OAAMuK,WADzD,2C,0HAGA,WAA4BA,GAA5B,0FACS3M,IAAMiB,KAAuBpB,EAAQ,kBAAmB,CAAC8M,WADlE,2C,yHAGA,8FAA4BC,EAA5B,EAA4BA,SAAS1L,EAArC,EAAqCA,MAArC,kBACSlB,IAAMiB,KAAsBpB,EAAQ,wBAAyB,CAAC+M,WAAS1L,WADhF,2C,+DC7BW6L,GAAkB/K,YAC7B,gBAD6C,uCAE7C,WAAOgL,GAAP,eAAApM,EAAA,sEACyB8L,GAAYO,SAASD,EAASnK,OADvD,cACQlC,EADR,yBAESA,EAASS,MAFlB,2CAF6C,uDAOlC8L,GAAelL,YAC1B,aAD0C,uCAE1C,WAAOgL,GAAP,eAAApM,EAAA,sEACyB8L,GAAYS,MAAMH,EAASnK,OADpD,cACQlC,EADR,yBAESA,EAASS,MAFlB,2CAF0C,uDAO/BgM,GAAgBpL,YAC3B,cAD2C,sBAE3C,4BAAApB,EAAA,sEACyB8L,GAAYW,SADrC,cACQ1M,EADR,yBAESA,EAASS,MAFlB,4CAKWkM,GAAmBtL,YAC9B,iBAD8C,sBAE9C,4BAAApB,EAAA,sEACyB8L,GAAYa,YADrC,cACQ5M,EADR,yBAESA,EAASS,MAFlB,4CAKWoM,GAAoBxL,YAC/B,kBAD+C,uCAE/C,WAAOgL,GAAP,eAAApM,EAAA,sEACyB8L,GAAYe,WAAWT,EAASnK,OADzD,cACQlC,EADR,yBAESA,EAASS,MAFlB,2CAF+C,uDAOpCsM,GAAwB1L,YACnC,sBADmD,uCAEnD,+BAAApB,EAAA,6DAAQ+L,EAAR,EAAQA,MAAR,SACyBD,GAAYiB,eAAehB,GADpD,cACQhM,EADR,yBAESA,EAASS,MAFlB,2CAFmD,uDAOxCwM,GAAuB5L,YAClC,qBADkD,uCAElD,WAAOgL,GAAP,eAAApM,EAAA,sEACyB8L,GAAYmB,cAAcb,GADnD,cACQrM,EADR,yBAESA,EAASS,MAFlB,2CAFkD,uDA4FrC0M,GA9DG3L,YAAY,CAC5BC,KAAM,OACNC,aAX+B,CAC/B0L,KAAM,KACNC,QAAQ,EACRzL,SAAS,EACTC,WAAW,EACXyL,cAAc,EACdC,aAAa,GAMbvL,SAAU,GACVgB,eAAa,qBACVoJ,GAAgBjJ,UAAUD,YAAa,SAAChB,EAAOC,GAC9CD,EAAMkL,KAAOjL,EAAOC,QAAQgL,KAC5BlL,EAAMmL,QAAS,EACfnL,EAAMN,SAAU,EAChB9B,aAAaU,QAAQ,eAAgB2B,EAAOC,QAAQ1B,cACpDZ,aAAaU,QAAQ,cAAe2B,EAAOC,QAAQzB,YAAYC,MAAM,KAAK,OANjE,eAQVwL,GAAgBhJ,SAASF,YAAa,SAAChB,GAAWA,EAAMN,SAAU,KARxD,eAUV2K,GAAapJ,UAAUD,YAAa,SAAChB,EAAOC,GAC3CD,EAAMkL,KAAOjL,EAAOC,QAAQgL,KAC5BlL,EAAMmL,QAAS,EACfnL,EAAMN,SAAU,EAChB9B,aAAaU,QAAQ,eAAgB2B,EAAOC,QAAQ1B,cACpDZ,aAAaU,QAAQ,cAAe2B,EAAOC,QAAQzB,YAAYC,MAAM,KAAK,OAfjE,eAiBV2L,GAAanJ,SAASF,YAAa,SAAChB,GAAWA,EAAMN,SAAU,KAjBrD,eAmBV6K,GAActJ,UAAUD,YAAa,SAAChB,GACrCA,EAAMkL,KAAO,KACblL,EAAMmL,QAAS,EACfvN,aAAa0N,WAAW,gBACxB1N,aAAa0N,WAAW,kBAvBf,eA0BVb,GAAiB1J,QAAQC,YAAa,SAAChB,GACtCA,EAAML,WAAY,KA3BT,eA6BV8K,GAAiBxJ,UAAUD,YAAa,SAAChB,EAAOC,GAC/CD,EAAMkL,KAAOjL,EAAOC,QAAQgL,KAC5BlL,EAAMmL,QAAS,EACfnL,EAAML,WAAY,KAhCT,eAkCV8K,GAAiBvJ,SAASF,YAAa,SAAChB,GACvCA,EAAMN,SAAU,EAChBM,EAAML,WAAY,KApCT,eAuCVgL,GAAkB1J,UAAUD,YAAa,SAAChB,EAAOC,GAChDD,EAAMkL,KAAOjL,EAAOC,QAAQgL,QAxCnB,eA0CVP,GAAkBzJ,SAASF,YAAa,SAAChB,GAAWA,EAAMN,SAAU,KA1C1D,eA4CVmL,GAAsB5J,UAAUD,YAAa,SAAChB,GAC7CA,EAAMoL,cAAe,KA7CZ,eA+CVP,GAAsB3J,SAASF,YAAa,SAAChB,GAAWA,EAAMN,SAAU,KA/C9D,eAiDVqL,GAAqB9J,UAAUD,YAAa,SAAChB,GAC5CA,EAAMqL,aAAc,EACpBrL,EAAMoL,cAAe,KAnDZ,eAqDVL,GAAqB7J,SAASF,YAAa,SAAChB,GAAWA,EAAMN,SAAU,KArD7D,MA0Df,QC5Ee6L,GArDG,WAChB,IAuByC,EAvBnChK,EAAW5F,IACX0F,EAAWC,cACjB,EAA0BoB,mBAAqB,CAC7CoH,MAAO,GACPC,SAAU,KAFZ,mBAAO/J,EAAP,KAAcwL,EAAd,KAIQ9L,EAAY7D,GAAY,SAACmE,GAAD,OAASA,EAAMyL,QAAvC/L,QAEFgM,EAAW,SAACC,GAChB,IAAMC,EAASD,EAAMC,OACfrI,EAAQqI,EAAOrI,MACfhE,EAAOqM,EAAOrM,KACpBiM,EAAS,2BACJxL,GADG,kBAELT,EAAOgE,MASZ,OAAI3F,aAAaC,QAAQ,eAEnB,cAAC,IAAD,CACErB,IAAa,OAAR6E,QAAQ,IAARA,GAAA,UAAAA,EAAUrB,aAAV,eAAiB6L,OAAQ,MAMpC,qBAAK7P,UAAWC,KAAO6P,gBAAvB,SACE,sBAAK9P,UAAWC,KAAO8P,WAAvB,UACE,mBAAG/P,UAAU,6BAAb,sCACA,uBAAMgQ,SAjBK,SAACtG,GAChBA,EAAEuG,iBACF1K,EAAS8I,GAAa,CAACrK,YAenB,UACE,cAAC,QAAD,CAAOpD,KAAM,QAASsP,YAAa,SAAUR,SAAUA,EAAUnI,MAAOvD,EAAM8J,MAAOvK,KAAM,UAC3F,cAAC,gBAAD,CAAemM,SAAUA,EAAUnI,MAAOvD,EAAM+J,SAAUxK,KAAM,aAChE,cAAC,SAAD,CAAQ3C,KAAK,UAAUqF,KAAK,SAA5B,+CAEDvC,GAAW,4EACZ,oBAAG1D,UAAWC,KAAOkQ,WAAa,yDAAlC,oIACE,cAAC,IAAD,CAAM3P,GAAG,YAAT,8HAEF,oBAAGR,UAAWC,KAAOkQ,WAAa,wDAAlC,uFACE,cAAC,IAAD,CAAM3P,GAAG,mBAAT,qICKK4P,GAlDM,WACnB,IAsByC,IAtBnC7K,EAAW5F,IACX0F,EAAWC,cACjB,EAA0BoB,mBAAqB,CAC7CnD,KAAM,GACNuK,MAAO,GACPC,SAAU,KAHZ,mBAAO/J,EAAP,KAAcwL,EAAd,KAKQ9L,EAAY7D,GAAY,SAACmE,GAAD,OAASA,EAAMyL,QAAvC/L,QAEFgM,EAAW,SAACC,GAChB,IAAMC,EAASD,EAAMC,OACfrI,EAAQqI,EAAOrI,MACfhE,EAAOqM,EAAOrM,KACpBiM,EAAS,2BACJxL,GADG,kBAELT,EAAOgE,MAOZ,OAAI3F,aAAaC,QAAQ,eAErB,cAAC,IAAD,CACErB,IAAa,OAAR6E,QAAQ,IAARA,GAAA,UAAAA,EAAUrB,aAAV,mBAAiB6L,YAAjB,eAAuBhK,WAAY,MAM5C,qBAAK7F,UAAWC,KAAO6P,gBAAvB,SACE,sBAAK9P,UAAWC,KAAO8P,WAAvB,UACE,mBAAG/P,UAAU,6BAAb,gFACA,uBAAMgQ,SAhBK,SAACtG,GAChBA,EAAEuG,iBACF1K,EAAS2I,GAAgB,CAAClK,YActB,UACE,cAAC,QAAD,CAAOpD,KAAM,OAAQsP,YAAa,qBAAOR,SAAUA,EAAUnI,MAAOvD,EAAMT,KAAMA,KAAM,SACtF,cAAC,QAAD,CAAO3C,KAAM,QAASsP,YAAa,SAAUR,SAAUA,EAAUnI,MAAOvD,EAAM8J,MAAOvK,KAAM,UAC3F,cAAC,gBAAD,CAAemM,SAAUA,EAAUnI,MAAOvD,EAAM+J,SAAUxK,KAAM,aAChE,cAAC,SAAD,CAAQ3C,KAAK,UAAUqF,KAAK,SAA5B,6HAEDvC,GAAW,4EACZ,oBAAG1D,UAAWC,KAAOkQ,WAAa,yDAAlC,iIACE,cAAC,IAAD,CAAM3P,GAAG,SAAT,sDCKK6P,GAjDY,WACzB,IAAM9K,EAAW5F,IACXiJ,EAAmBC,cACzB,EAA0BnC,mBAAqB,CAC7CoH,MAAO,KADT,mBAAO9J,EAAP,KAAcwL,EAAd,KAGA,EAAkC3P,GAAY,SAACmE,GAAD,OAASA,EAAMyL,QAArD/L,EAAR,EAAQA,QAAS0L,EAAjB,EAAiBA,aAiBjB,OAAIxN,aAAaC,QAAQ,eACd,cAAC,IAAD,CAAUrB,GAAG,MAIrB4O,EACM,cAAC,IAAD,CAAU5O,GAAI,CAACqF,SAAU,kBAAkB7B,MAAO,CAAE6L,KAAMjH,EAAQvD,aAIzE,qBAAKrF,UAAWC,KAAO6P,gBAAvB,SACE,sBAAK9P,UAAWC,KAAO8P,WAAvB,UACE,mBAAG/P,UAAU,6BAAb,uIACA,uBAAMgQ,SAlBK,SAACtG,GAChBA,EAAEuG,iBACF1K,EAASsJ,GAAsB7K,KAgB3B,UACE,cAAC,QAAD,CAAOpD,KAAM,QAASsP,YAAa,oDAAkBR,SA7B5C,SAACC,GAChB,IAAMC,EAASD,EAAMC,OACfrI,EAAQqI,EAAOrI,MACfhE,EAAOqM,EAAOrM,KACpBiM,EAAS,2BACJxL,GADG,kBAELT,EAAOgE,MAuBqEA,MAAOvD,EAAM8J,MAAOvK,KAAM,UACnG,cAAC,SAAD,CAAQ3C,KAAK,UAAUqF,KAAK,SAA5B,yFAEDvC,GAAW,4EACZ,oBAAG1D,UAAWC,KAAOkQ,WAAa,yDAAlC,yGACE,cAAC,IAAD,CAAM3P,GAAG,SAAT,sDCIK8P,GA9CW,WAAO,IAAD,IACxB/K,EAAW5F,IACX0F,EAAWC,cACjB,EAA0BoB,mBAAqB,CAC7CqH,SAAU,GACV1L,MAAO,KAFT,mBAAO2B,EAAP,KAAcwL,EAAd,KAIA,EAAiC3P,GAAY,SAACmE,GAAD,OAASA,EAAMyL,QAApD/L,EAAR,EAAQA,QAEFgM,EAAW,SAACC,GAChB,IAAMC,EAASD,EAAMC,OACfrI,EAAQqI,EAAOrI,MACfhE,EAAOqM,EAAOrM,KACpBiM,EAAS,2BACJxL,GADG,kBAELT,EAAOgE,MASZ,OAjBA,EAAiB8H,YAiBM,cAAC,IAAD,CAAU7O,GAAG,WAEG,sBAAnC,UAAA6E,EAASrB,aAAT,mBAAgB6L,YAAhB,eAAsBhK,UAAwC,cAAC,IAAD,CAAUrF,GAAG,MAG7E,qBAAKR,UAAWC,KAAO6P,gBAAvB,SACE,sBAAK9P,UAAWC,KAAO8P,WAAvB,UACE,mBAAG/P,UAAU,6BAAb,sCACA,uBAAMgQ,SAbK,SAACtG,GAChBA,EAAEuG,iBACF1K,EAASwJ,GAAqB/K,KAW1B,UACE,cAAC,gBAAD,CAAe0L,SAAUA,EAAUnI,MAAOvD,EAAM+J,SAAUxK,KAAM,aAChE,cAAC,QAAD,CAAO3C,KAAM,OAAQsP,YAAa,kHAAyBR,SAAUA,EAAUnI,MAAOvD,EAAM3B,MAAOkB,KAAM,UACzG,cAAC,SAAD,CAAQ3C,KAAK,UAAUqF,KAAK,SAA5B,uEAEDvC,GAAW,4EACZ,oBAAG1D,UAAWC,KAAOkQ,WAAa,yDAAlC,yGACE,cAAC,IAAD,CAAM3P,GAAG,SAAT,sD,oBCoBK+P,I,OA3Da,WAC1B,IAAMhL,EAAW5F,IACjB,EAAyBE,GAAY,SAACmE,GAAD,OAAWA,EAAMyL,QAA9CN,EAAR,EAAQA,OAAQD,EAAhB,EAAgBA,KAChB,EAA0BxI,mBAAqB,CAC7CnD,KAAM,GACNuK,MAAO,GACPC,SAAU,KAHZ,mBAAO/J,EAAP,KAAcwL,EAAd,KAMArG,qBAAU,WACLgG,GAAUD,GACXM,EAAS,2BACJxL,GADG,IAENT,KAAM2L,EAAK3L,KACXuK,MAAOoB,EAAKpB,WAGhB,CAACoB,IAEH,IAAMQ,EAAW,SAACC,GAChB,IAAMC,EAASD,EAAMC,OACfrI,EAAQqI,EAAOrI,MACfhE,EAAOqM,EAAOrM,KACpBiM,EAAS,2BACJxL,GADG,kBAELT,EAAOgE,MAGNyI,EAAW,SAACtG,GAChBA,EAAEuG,iBACF1K,EAASoJ,GAAkB,CAAC3K,YAc9B,OACE,qBAAKhE,UAAWC,KAAOuQ,cAAvB,SACE,uBAAMR,SAAUA,EAAhB,UACE,cAAC,QAAD,CAAOS,KAAK,WAAWC,YAAaV,EAAUpP,KAAM,OAAQsP,YAAa,qBAAOR,SAAUA,EAAUnI,MAAOvD,EAAMT,KAAMA,KAAM,SAC7H,cAAC,QAAD,CAAOkN,KAAK,WAAWC,YAAaV,EAAUpP,KAAM,QAASsP,YAAa,iCAASR,SAAUA,EAAUnI,MAAOvD,EAAM8J,MAAOvK,KAAM,UACjI,cAAC,QAAD,CAAOkN,KAAK,WAAW7P,KAAM,WAAYsP,YAAa,uCAAUR,SAAUA,EAAUnI,MAAOvD,EAAM+J,SAAUxK,KAAM,aACjH,uBAAMvD,UAAWC,KAAO0Q,cAAxB,UACE,cAAC,SAAD,CAAQ/P,KAAK,UAAUqF,KAAK,SAA5B,oEACA,cAAC,SAAD,CAAQN,QAnBU,SAAC+D,GACzBA,EAAEuG,iBACCf,GACDM,EAAS,2BACJxL,GADG,IAENT,KAAM2L,EAAK3L,KACXuK,MAAOoB,EAAKpB,UAa0BlN,KAAK,UAAUqF,KAAK,SAAxD,+H,6DCzCK2K,I,OAvBI,SAACC,GAClBC,KAAOC,OAAO,MAMd,IAAIC,GALJH,EAAOC,KAAOD,IAKahB,KAAKiB,QAC1BG,EAAa,UAAMH,KAAOD,GAAMK,OAAO,MAAM,IAAhC,OAAqCJ,KAAOD,GAAMK,OAAO,MAAM,IAC5EC,EAAOL,KAAOD,GAAMK,OAAb,uBAAoCD,IAWjD,OATIJ,EAAKK,OAAO,kBAAoBJ,OAASM,SAAS,EAAG,QAAQF,OAAO,iBACvD,4DAAZF,IAEHA,EAAU,kCAERH,EAAKK,OAAO,kBAAoBJ,OAASI,OAAO,kBAAiBF,EAAU,8CAElE,UAAMA,EAAN,aAAkBG,KCXlBE,GARI,SAACtO,GAKlB,OAJW,OAAGA,QAAH,IAAGA,OAAH,EAAGA,EAAagK,QAAO,SAACC,EAAasE,GAC9C,OAAOtE,EAAMsE,EAAIjL,QAChB,ICSUkL,GAXW,SAACxI,EAAmBtF,GAC7C,IAAMV,EAA6B,GAOnC,OANCgG,EAAMhG,YAAYuK,SAAQ,SAACkE,GACzB/N,EAAgB6J,SAAQ,SAACC,GACnBiE,IAAOjE,EAAQhJ,KAAKxB,EAAYyH,KAAK+C,SAIvCxK,GCJO0O,GAPK,SAACvP,GACnB,MAAkB,SAAXA,GACN,mBAAGlC,UAAU,mCACZuM,MAAO,CAACmF,MAAO,WADhB,+DCGUC,GAAgBxO,YACzB,yBADyC,uCAEzC,WAAOF,GAAP,eAAAlB,EAAA,sEACyBb,EAAS0Q,UAAU3O,GAD5C,cACQnB,EADR,yBAESA,EAASS,MAFlB,2CAFyC,uDAmCvCsP,GAAWvO,YAAY,CAC3BC,KAAM,WACNC,aAhBkC,CAChCsO,OAAQ,GACRC,MAAO,KACPC,WAAY,KACZC,QAAS,GACTC,IAAK,GACLC,aAAa,EACbzO,SAAS,EACTC,WAAW,EACXyO,WAAY,KACZC,cAAc,EACdC,gBAAiB,IAMnBxO,SAAU,CACRyO,kBAAmB,SAACvO,EAAOC,GACzBD,EAAMkO,IAAMjO,EAAOC,QACnBF,EAAML,WAAY,GAEpB6O,oBAAqB,SAACxO,GACpBA,EAAMmO,aAAc,EACpBnO,EAAMN,SAAU,GAElB+O,aAAc,SAACzO,EAAOC,GAKZ,IAAD,EAJJA,EAAOC,QAAQwO,SAChB1O,EAAM8N,OAAS7N,EAAOC,QAAQ4N,OAC9B9N,EAAM+N,MAAQ9N,EAAOC,QAAQ6N,MAC7B/N,EAAMgO,WAAa/N,EAAOC,QAAQ8N,YAElChO,EAAMiO,QAAN,UAAgBhO,EAAOC,eAAvB,aAAgB,EAAgB+N,QAElCjO,EAAML,WAAY,GAEpBgP,mBAAoB,SAAC3O,GACnBA,EAAM8N,OAAS,KACf9N,EAAM+N,MAAQ,KACd/N,EAAMgO,WAAa,KACnBhO,EAAMmO,aAAc,GAEtBS,yBAA0B,SAAC5O,EAAOC,GAChCD,EAAMoO,WAAanO,EAAOC,SAE5B2O,kBAAmB,SAAC7O,GAClBA,EAAMN,SAAU,EAChBM,EAAML,WAAY,GAEpBmP,eAAgB,SAAC9O,EAAOC,GACtBD,EAAMqO,cAAe,EACrBrO,EAAMsO,gBAAkBrO,EAAOC,SAEjC6O,gBAAiB,SAAC/O,GAChBA,EAAMqO,cAAe,EACrBrO,EAAMsO,gBAAkB,KAG5BxN,eAAa,qBACV6M,GAAc5M,QAAQC,YAAa,SAAChB,GAAYA,EAAML,WAAY,KADxD,eAEVgO,GAAc1M,UAAUD,YAAa,SAAChB,EAAOC,GAC5CD,EAAM8N,OAAS7N,EAAOC,QAAQ4N,OAC9B9N,EAAML,WAAY,KAJT,eAMVgO,GAAczM,SAASF,YAAa,SAAChB,GACpCA,EAAMN,SAAU,EAChBM,EAAML,WAAY,KART,MAaR,GASHkO,GAAS1M,QARToN,GADG,GACHA,kBACAC,GAFG,GAEHA,oBACAC,GAHG,GAGHA,aACAE,GAJG,GAIHA,mBACAC,GALG,GAKHA,yBACAC,GANG,GAMHA,kBACAC,GAPG,GAOHA,eACAC,GARG,GAQHA,gBAEWlB,MAAf,QCrCemB,GAlDwB,SAAC,GAAuB,IAArBjK,EAAoB,EAApBA,MAAO7G,EAAa,EAAbA,OACzCqD,EAAW5F,IACXiJ,EAAUC,cACVxD,EAAWuD,EAAQvD,SACjB5B,EAAoB5D,GAAY,SAACmE,GAAD,OAAWA,EAAMjB,eAAjDU,gBACFV,EAA6BwO,GAAkBxI,EAAOtF,GACtDwP,EAAerK,EAAQvD,SAASQ,SAKtC,OACE,eAAC,IAAD,CAEIrF,GAAI,CACFqF,SAAS,GAAD,OAAKoN,EAAL,YAAalK,EAAMxE,KAC3BP,MAAO,CAAE8B,WAAYT,IAEzBM,QAXgB,WAClBJ,EAASuN,GAAe/J,EAAMe,OAAO9E,cAWnChF,UAAWC,KAAOiT,YAPpB,UASE,sBAAKlT,UAAWC,KAAOkT,YAAvB,UACE,oBAAGnT,UAAU,8BAAb,cAA6C+I,EAAMe,UACnD,mBAAG9J,UAAU,kDAAb,SAAgE4Q,GAAW7H,EAAMqK,gBAEnF,mBAAGpT,UAAU,kCAAb,SACE+I,EAAMxF,KAAK4D,OAAS,GAApB,UACK4B,EAAMxF,KAAK8P,MAAM,EAAG,IADzB,OAEEtK,EAAMxF,OAERrB,GAAUuP,GAAY1I,EAAM7G,QAC9B,sBAAKlC,UAAWC,KAAOqT,WAAvB,UACE,sBAAKtT,UAAWC,KAAOsT,YAAvB,UACGxQ,EAAYoE,OAAS,GAAKpE,EAAYqB,KAAI,SAACD,EAAMqP,GAAP,OACzC,sBAAcjH,MAAO,CAACkH,OAAO,GAAGD,GAAhC,SAAoC,qBAAKtN,IAAK/B,EAAKgC,MAAOC,IAAKjC,EAAKZ,QAAzDiQ,MAEZzQ,EAAYoE,OAAS,GAAKpE,EAAYqB,KAAI,SAACD,EAAMqP,GAChD,OAAGA,EAAI,EAAU,sBAAcjH,MAAO,CAACkH,OAAO,GAAGD,GAAhC,SAAoC,qBAAKtN,IAAK/B,EAAKgC,MAAOC,IAAKjC,EAAKZ,QAAzDiQ,GACnB,IAANA,EAAgB,+BAAe,oBAAGxT,UAAU,gCAAb,cAA+C+I,EAAMhG,YAAYoE,OAAO,MAA5EqM,GACvB,WAGT,sBAAKxT,UAAW,sCAAsCC,KAAOyT,YAA7D,UACGrC,GAAWtO,GADd,IAC4B,cAAC,eAAD,CAAcnC,KAAK,oBA9B5CmI,EAAMxE,MCiBJoP,GAhCI,WACjB,IAAMpO,EAAW5F,IACjB,EAAgEE,GAAY,SAACmE,GAAD,OAAWA,EAAM6N,YAArFC,EAAR,EAAQA,OAAQnO,EAAhB,EAAgBA,UAAWyO,EAA3B,EAA2BA,WAAYH,EAAvC,EAAuCA,QACjC5P,EAAQT,aAAaC,QAAQ,eAgBnC,OAdAsH,qBAAU,WACW,OAAfiJ,GAAmC,6BAAZH,IACzB1M,EAASkJ,MACTlJ,EAASgN,GAAkB,GAAD,OAAItR,EAAJ,kBAAqBoB,QAEjD,CAACkD,EAAU6M,EAAYH,EAAS5P,IAElC8G,qBAAU,WAER,OADA5D,EAASgN,GAAkB,GAAD,OAAItR,EAAJ,kBAAqBoB,KACxC,WACLkD,EAASoN,SAEX,CAACpN,EAAUlD,IAGZ,qBAAKrC,UAAWC,KAAO2T,YAAvB,UAGIjQ,GAAamO,EACZ,aAAIA,GAAQ+B,UAAUzP,KAAI,SAACoN,GAAD,OAAqB,cAAC,GAAD,CAAwBzI,MAAOyI,EAAItP,QAAM,GAAzBsP,EAAGjN,QAClE,8F,oBCgCOuP,OA5Df,WACE,IAAMvO,EAAW5F,IACXiJ,EAAUC,cACRpF,EAAoB5D,GAAY,SAACmE,GAAD,OAAWA,EAAMjB,eAAjDU,gBACAqO,EAAWjS,GAAY,SAACmE,GAAD,OAAWA,EAAM6N,YAAxCC,OACFI,EAActJ,EAAQvD,SAASQ,SAASnD,MAAM,KAAK2Q,MAAM,GAAG,GAC9DU,EAAe,GAEfA,EADI,SAAR7B,EACmB,OACH,iBAAatQ,aAAaC,QAAQ,gBAElDsH,qBAAU,WACR5D,EAASoM,GAAcoC,MACtB,CAACxO,EAAUwO,IAEd,IAAMtP,EAAKmE,EAAQvD,SAASQ,SAASnD,MAAM,KAAKsR,MAC1CjL,EAA6B,OAAG+I,QAAH,IAAGA,OAAH,EAAGA,EAAQnH,QAAO,SAAA6G,GAAE,OAAIA,EAAGjN,MAAQE,KAAI,GACpEwP,EAAuClL,EAAQwI,GAAkBxI,EAAOtF,GAAmB,KAC3FyQ,EAA0B,GAE1BnR,EAAoCkR,GAAkBA,EAAetJ,QAAO,SAACxG,EAAmB0G,GACpG,OAAIoJ,EAAeE,QAAQhQ,KAAU0G,GACnCqJ,EAAgB/P,EAAKI,KAAO,EACrBJ,IACF+P,EAAgB/P,EAAKI,KAAO2P,EAAgB/P,EAAKI,KAAO,GACxD,MAGT,OACE,qBAAKvE,UAAWC,KAAOwN,cAAvB,SACI1E,EACA,gCACA,oBAAG/I,UAAW,8BAA8BC,KAAOmU,cAAnD,cAAoErL,EAAMe,UAC1E,mBAAG9J,UAAU,mCAAb,SAAiD+I,EAAMxF,OACvD,qBAAKvD,UAAU,mCAAf,SAAmDyR,GAAY1I,EAAM7G,UACrE,mBAAGlC,UAAU,mCAAb,mDACA,qBAAKA,UAAWC,KAAOoU,uBAAvB,gBACItR,QADJ,IACIA,OADJ,EACIA,EAAaqB,KAAI,SAACoN,GAAD,OACjB,sBAAkBxR,UAAWC,KAAOqU,iBAApC,UACE,sBAAMtU,UAAWC,KAAOsU,kBAAxB,SAA2C,qBAAKrO,IAAKsL,EAAGrL,MAAOC,IAAKoL,EAAGjO,SACvE,mBAAGvD,UAAW,+BAA+BC,KAAOuU,kBAApD,SAAwEhD,EAAGjO,OAC3E,oBAAGvD,UAAW,sCAAsCC,KAAOwU,aAA3D,UACE,iCAAOP,EAAgB1C,EAAGjN,KAA1B,MAAmCiN,EAAGnL,SADxC,IACsD,cAAC,eAAD,CAAczF,KAAK,iBAJjE4Q,EAAGjN,UASjB,sBAAKvE,UAAWC,KAAOkT,YAAvB,UACE,mBAAGnT,UAAU,kDAAb,SAAgE4Q,GAAW7H,EAAMqK,aACjF,oBAAGpT,UAAW,sCAAsCC,KAAOwU,aAA3D,UACI,+BAAOpD,GAAW4C,KADtB,IAC8C,cAAC,eAAD,CAAcrT,KAAK,qBAInE,qBAAKZ,UAAU,mCAAf,uJ,0BCjEK0U,GAAiC,SAAC,GAA4B,IAA1BtM,EAAyB,EAAzBA,SAAauM,EAAY,mBACtE,EAAuC9U,GAAY,SAACmE,GAAD,OAAWA,EAAMyL,QAA5DN,EAAR,EAAQA,OAAQxL,EAAhB,EAAgBA,UAAWD,EAA3B,EAA2BA,QAE3B,OACE,oCACGC,IAAcD,GAAW,cAAC,IAAD,2BACpBiR,GADoB,IAExBC,OAAQ,gBAAGvP,EAAH,EAAGA,SAAH,OACN8J,EACE/G,EAEI,cAAC,IAAD,CACE5H,GAAI,CACFqF,SAAU,SACV7B,MAAO,CAAE6L,KAAMxK,aCwCtBwP,GA5CK,WAAO,IAAD,IAClBtP,EAAW5F,IACX0F,EAAWC,cAGXQ,EAAgC,SAFtB+C,cAEW5E,QAAqBoB,EAASrB,OAASqB,EAASrB,MAAM8B,WAC7EgP,EAAW,GAMf,OAAQzP,EAASQ,UACf,IAAK,WAAYiP,EAAW,uTAA8D,MAC1F,IAAK,kBAAmBA,EAAW,iTAA6D,MAChG,QAASA,EAAW,GAGtB,OACE,cAAC,GAAD,CAAgB7B,KAAK,WAArB,SAC6C,qBAAlC,OAAR5N,QAAQ,IAARA,GAAA,UAAAA,EAAUrB,aAAV,mBAAiB8B,kBAAjB,eAA6BD,UACzB,cAAC,IAAD,UACD,cAAC,IAAD,CAAOtF,OAAK,EAAC0S,KAAK,sBAAsB8B,UAAWjB,OAElD,sBAAK9T,UAAWC,KAAO+U,mBAAvB,UACH,sBAAKhV,UAAWC,KAAOgV,cAAvB,UACE,qBAAIjV,UAAW,kDAAkDC,KAAOiV,WAAxE,UACE,6BAAI,cAAC,IAAD,CAAS3U,OAAK,EAACC,GAAG,WAAWR,UAAW,SAAAS,GAAQ,OAAIR,KAAOS,KAAO,KAAOD,EAAWR,KAAOU,YAAc,KAAzG,0DACJ,6BAAI,cAAC,IAAD,CAASH,GAAG,kBAAkBR,UAAW,SAAAS,GAAQ,OAAIR,KAAOS,KAAO,KAAOD,EAAWR,KAAOU,YAAc,KAA1G,qGACJ,oBAAIgF,QArBO,WACnBJ,EAASgJ,OAoBD,+CAEF,mBAAGvO,UAAU,yDAAb,SAAuE8U,OAEzE,qBAAK9U,UAAWC,KAAOkV,iBAAvB,SACE,eAAC,IAAD,CAAQ9P,SAAUS,GAAcT,EAAhC,UACE,cAAC,IAAD,CAAO9E,OAAK,EAAC0S,KAAK,WAAW8B,UAAWxE,KACxC,cAAC,IAAD,CAAOhQ,OAAK,EAAC0S,KAAK,kBAAkB8B,UAAWpB,gB,oBCR5CyB,GAnCQ,WACrB,IAAQ3Q,EAAO4Q,cAAP5Q,GACDhB,EAAmB5D,GAAY,SAACmE,GAAD,OAAWA,EAAMjB,eAAhDU,gBACD6R,EAAoB7R,EAAgBkH,QAAO,SAAC6G,GAAD,OAAMA,EAAGjN,MAAQE,KAAI,GAEtE,OACE,mCACGhB,EAAgB0D,OAAS,EAC1B,sBAAKnH,UAAWC,KAAOsV,oBAAvB,UACE,+BAAM,qBAAKrP,IAAKoP,EAAKnP,MAAOC,IAAKkP,EAAK/R,KAAM0G,OAAO,UACnD,mBAAGjK,UAAU,kCAAb,SAAgDsV,EAAK/R,OACrD,uBAAMvD,UAAW,aAAaC,KAAOuV,yBAArC,UACE,oBAAGxV,UAAWC,KAAOwV,yBAAyB,mDAA9C,gFACc,uBACXH,EAAKI,YAER,oBAAG1V,UAAWC,KAAOwV,yBAAyB,wDAA9C,mDACU,uBACR,+BAAOH,EAAKK,cAEd,oBAAG3V,UAAWC,KAAOwV,yBAAyB,wDAA9C,6CACS,uBACP,+BAAOH,EAAKM,SAEd,oBAAG5V,UAAWC,KAAOwV,yBAAyB,wDAA9C,qEACa,uBACb,+BAAOH,EAAKO,yBAGP,0F,oBCqCAC,OAhEf,WACE,IAAMvQ,EAAW5F,IACXmS,EAASjS,GAAY,SAACmE,GAAD,OAAWA,EAAM6N,SAASC,UACrD,EAAyCjS,GAAY,SAACmE,GAAD,OAAWA,EAAM6N,YAA9DE,EAAR,EAAQA,MAAOC,EAAf,EAAeA,WAAYrO,EAA3B,EAA2BA,UAS3B,OAPAwF,qBAAU,WAER,OADA5D,EAASgN,GAAkB,GAAD,OAAItR,EAAJ,UACnB,WACJsE,EAASoN,SAEZ,CAACpN,IAGD,uBAAMvF,UAAWC,KAAOwN,cAAxB,UACE,oBAAIzN,UAAU,kCAAd,uFACA,sBAAKA,UAAWC,KAAO8V,iBAAvB,UACE,qBAAK/V,UAAWC,KAAO2T,YAAvB,UAEKjQ,GAAamO,EACZA,EAAO1N,KAAI,SAACoN,GAAD,OAAqB,cAAC,GAAD,CAAwBzI,MAAOyI,EAAItP,QAAQ,GAA3BsP,EAAGjN,QACnD,6FAGN,sBAAKvE,UAAWC,KAAOkT,YAAvB,UACE,sBAAKnT,UAAWC,KAAO+V,YAAvB,UACE,sBAAKhW,UAAWC,KAAOgW,aAAvB,UACE,mBAAGjW,UAAU,6BAAb,mDACA,+BAEK2D,GAAamO,EACZA,EAAO1N,KAAI,SAACoN,GAAD,MACG,SAAdA,EAAGtP,QAAqB,mBAAGlC,UAAU,mCAAb,SAA+DwR,EAAG1H,QAAb0H,EAAGjN,QAEhF,gGAIN,sBAAKvE,UAAWC,KAAOiW,iBAAvB,UACA,mBAAGlW,UAAU,6BAAb,0DACA,+BAEK2D,GAAamO,EACZA,EAAO1N,KAAI,SAACoN,GAAD,MACG,SAAdA,EAAGtP,QAAqB,mBAAGlC,UAAU,8BAAb,SAA0DwR,EAAG1H,QAAb0H,EAAGjN,QAE3E,mGAKV,sBAAKvE,UAAWC,KAAOkW,WAAvB,UACE,mBAAGnW,UAAU,6BAAb,oIACA,mBAAGA,UAAU,8BAAb,SAA4C+R,OAE9C,sBAAK/R,UAAWC,KAAOmW,aAAvB,UACE,mBAAGpW,UAAU,6BAAb,6HACA,mBAAGA,UAAU,8BAAb,SAA4CgS,iB,oBC5DzC,SAASqE,KACtB,IAAMf,EAA2BzV,GAAY,SAACmE,GAAD,OAAWA,EAAMjB,YAAYa,qBAE1E,OACA,sBAAK5D,UAAWC,KAAOsV,oBAAvB,UACE,+BAAM,qBAAKrP,IAAG,OAAEoP,QAAF,IAAEA,OAAF,EAAEA,EAAMnP,MAAOC,IAAG,OAAEkP,QAAF,IAAEA,OAAF,EAAEA,EAAM/R,KAAM0G,OAAO,UACrD,mBAAGjK,UAAU,kCAAb,gBAAgDsV,QAAhD,IAAgDA,OAAhD,EAAgDA,EAAM/R,OACtD,uBAAMvD,UAAW,aAAaC,KAAOuV,yBAArC,UACE,oBAAGxV,UAAWC,KAAOwV,yBAAyB,mDAA9C,gFACc,uBADd,OAEGH,QAFH,IAEGA,OAFH,EAEGA,EAAMI,YAET,oBAAG1V,UAAWC,KAAOwV,yBAAyB,wDAA9C,mDACU,uBACR,sCAAOH,QAAP,IAAOA,OAAP,EAAOA,EAAMK,cAEf,oBAAG3V,UAAWC,KAAOwV,yBAAyB,wDAA9C,6CACS,uBACP,sCAAOH,QAAP,IAAOA,OAAP,EAAOA,EAAMM,SAEf,oBAAG5V,UAAWC,KAAOwV,yBAAyB,wDAA9C,qEACa,uBACX,sCAAOH,QAAP,IAAOA,OAAP,EAAOA,EAAMO,yB,wBCfN,SAASS,KACtB,IAAM1N,EAAUC,cACRpF,EAAoB5D,GAAY,SAACmE,GAAD,OAAWA,EAAMjB,eAAjDU,gBACAqO,EAAWjS,GAAY,SAACmE,GAAD,OAAWA,EAAM6N,YAAxCC,OAEFrN,EAAKmE,EAAQvD,SAASQ,SAASnD,MAAM,KAAKsR,MAC1CjL,EAA6B,OAAG+I,QAAH,IAAGA,OAAH,EAAGA,EAAQnH,QAAO,SAAA6G,GAAE,OAAIA,EAAGjN,MAAQE,KAAI,GACpEwP,EAAuClL,EAAQwI,GAAkBxI,EAAOtF,GAAmB,KAC3FyQ,EAA0B,GAE1BnR,EAAoCkR,GAAkBA,EAAetJ,QAAO,SAACxG,EAAM0G,GACvF,OAAIoJ,EAAeE,QAAQhQ,KAAU0G,GACnCqJ,EAAgB/P,EAAKI,KAAO,EACrBJ,IACF+P,EAAgB/P,EAAKI,KAAO2P,EAAgB/P,EAAKI,KAAO,GACxD,MAGT,OACE,sBAAKvE,UAAWC,KAAOwN,cAAvB,UACE,mBAAGzN,UAAU,6BAAb,gBAA2C+I,QAA3C,IAA2CA,OAA3C,EAA2CA,EAAOxF,OAClD,qBAAKvD,UAAU,mCAAf,SAAmDyR,GAAW,OAAC1I,QAAD,IAACA,OAAD,EAACA,EAAO7G,UACtE,mBAAGlC,UAAU,mCAAb,mDACA,qBAAKA,UAAWC,KAAOoU,uBAAvB,gBACItR,QADJ,IACIA,OADJ,EACIA,EAAaqB,KAAI,SAACoN,GAAD,OACjB,sBAAkBxR,UAAWC,KAAOqU,iBAApC,UACE,sBAAMtU,UAAWC,KAAOsU,kBAAxB,SAA2C,qBAAKrO,IAAKsL,EAAGrL,MAAOC,IAAKoL,EAAGjO,SACvE,mBAAGvD,UAAW,+BAA+BC,KAAOuU,kBAApD,SAAwEhD,EAAGjO,OAC3E,oBAAGvD,UAAW,sCAAsCC,KAAOwU,aAA3D,UACE,iCAAOP,EAAgB1C,EAAGjN,KAA1B,MAAmCiN,EAAGnL,SADxC,IACsD,cAAC,eAAD,CAAczF,KAAK,iBAJjE4Q,EAAGjN,UASjB,sBAAKvE,UAAWC,KAAOkT,YAAvB,UACE,mBAAGnT,UAAU,kDAAb,SAAgE4Q,GAAU,OAAC7H,QAAD,IAACA,OAAD,EAACA,EAAOqK,aAClF,oBAAGpT,UAAW,sCAAsCC,KAAOwU,aAA3D,UACI,+BAAOpD,GAAW4C,KADtB,IAC8C,cAAC,eAAD,CAAcrT,KAAK,qBC9CzE,IAQe2V,GARM,kBACnB,0DACU,uBADV,sGAEqB,uBACnB,cAAC,IAAD,CAAM/V,GAAG,IAAT,yECsEWgW,OAnDf,WACE,IAAMjR,EAAW5F,IACX0F,EAAWC,cACXsD,EAAmBC,cAEjBhF,EAA6BhE,GAAY,SAACmE,GAAD,OAAWA,EAAMjB,eAA1Dc,yBACR,EAA0ChE,GAAY,SAACmE,GAAD,OAAWA,EAAM6N,YAA/DQ,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,gBAChBxM,EAAgC,SAAnB8C,EAAQ3E,QAAqBoB,EAASrB,OAASqB,EAASrB,MAAM8B,WAOjF,OALAqD,qBAAU,WACLvH,aAAaC,QAAQ,gBAAgB0D,EAASkJ,MACjDlJ,EAASrC,OACT,CAACqC,IAGD,sBAAKvF,UAAWC,IAAOwW,QAAvB,UACE,cAAC1W,EAAD,IACA,sBAAKC,UAAWC,IAAOE,UAAvB,UACE,eAAC,IAAD,CAAQkF,SAAUS,GAAcT,EAAhC,UACE,cAAC,IAAD,CAAO9E,OAAK,EAAC0S,KAAK,IAAI8B,UAAWvH,KACjC,cAAC,IAAD,CAAOjN,OAAK,EAAC0S,KAAK,SAAS8B,UAAWxF,KACtC,cAAC,IAAD,CAAOhP,OAAK,EAAC0S,KAAK,YAAY8B,UAAW3E,KACzC,cAAC,IAAD,CAAO7P,OAAK,EAAC0S,KAAK,mBAAmB8B,UAAW1E,KAChD,cAAC,IAAD,CAAO9P,OAAK,EAAC0S,KAAK,kBAAkB8B,UAAWzE,KAC/C,cAAC,IAAD,CAAO2C,KAAK,WAAW8B,UAAWF,KAClC,cAAC,IAAD,CAAOtU,OAAK,EAAC0S,KAAK,QAAQ8B,UAAWe,KACrC,cAAC,IAAD,CAAOvV,OAAK,EAAC0S,KAAK,YAAY8B,UAAWjB,KACzC,cAAC,IAAD,CAAOvT,OAAK,EAAC0S,KAAK,mBAAmB8B,UAAWK,KAChD,cAAC,IAAD,CAAOL,UAAWwB,QAEnBzQ,GAAc,cAAC,IAAD,CAAOmN,KAAK,mBAAmB7K,SAC5C,cAAC,GAAD,CACEZ,OAAQ3D,EACR8E,UAAW9D,EACX0B,MAAM,0GAHR,SAII,cAAC8P,GAAD,QAGLvQ,GAAc,cAAC,IAAD,CAAOmN,KAAI,UAAKnN,EAAWD,SAAhB,QAAgCuC,SACxD,cAAC,GAAD,CACEZ,OAAQ6K,EACR1J,UAAWoK,GACXxM,MAAK,WAAM+L,GAHb,SAII,cAACgE,GAAD,eCvDCI,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCSCQ,GAXDC,YAAe,CAC3BC,QAAU,CACRtU,YAAauU,EACbxO,aAAcyO,GACd9H,KAAM+H,GACN3F,SAAU4F,IAEZC,WAAY,SAACC,GAAD,OACVA,IAAuBC,QCHlB,SAACT,GACN,IAAIU,EAEJ,OAAO,SAACC,GAAD,OAAoB,SAAC7T,GAC1B,IAAQsB,EAAa4R,EAAb5R,SACA3E,EAAkBqD,EAAlBrD,KAAMsD,EAAYD,EAAZC,QAEVtD,IAAS2R,GAAkBvN,aAC7B6S,EAAS,IAAIE,UAAU7T,IAGrB2T,IACFA,EAAOG,OAAS,WACdzS,EAASiN,OAGXqF,EAAOI,UAAY,SAACtI,GAClB,IAAMsC,EAAUtC,EAAMpN,KAChBA,EAAO2V,KAAKC,MAAMlG,GACxB1M,EAASkN,GAAalQ,KAGxBsV,EAAOO,QAAU,WACf7S,EAASsN,OAGXgF,EAAOQ,QAAU,SAAC1I,GAChBpK,EAASqN,GAAyBjD,EAAM2I,SAIxC1X,IAAS+R,GAAmB3N,YAC9B6S,EAAOU,MAAM,KAGfT,EAAK7T,WCvCXqF,IAASsL,OACP,cAAC,IAAM4D,WAAP,UACE,cAAC,IAAD,CAAUrB,MAAOA,GAAjB,SACE,cAAC,IAAD,UACE,cAAC,GAAD,UAIJ3O,SAASC,eAAe,SAE5BiO,M,mBCjBAjX,EAAOC,QAAU,CAAC,mBAAqB,oCAAoC,cAAgB,+BAA+B,WAAa,4BAA4B,KAAO,sBAAsB,YAAc,6BAA6B,iBAAmB,kCAAkC,cAAgB,+BAA+B,cAAgB,iC,mBCA/VD,EAAOC,QAAU,CAAC,gBAAkB,2CAA2C,qBAAuB,gDAAgD,mBAAqB,8CAA8C,iBAAmB,4CAA4C,cAAgB,yCAAyC,MAAQ,iCAAiC,QAAU,qC,mBCApYD,EAAOC,QAAU,CAAC,cAAgB,6BAA6B,cAAgB,6BAA6B,uBAAyB,sCAAsC,iBAAmB,gCAAgC,kBAAoB,iCAAiC,kBAAoB,iCAAiC,YAAc,2BAA2B,aAAe,8B,mBCAhYD,EAAOC,QAAU,CAAC,cAAgB,4BAA4B,iBAAmB,+BAA+B,YAAc,0BAA0B,YAAc,0BAA0B,YAAc,0BAA0B,aAAe,2BAA2B,iBAAmB,+BAA+B,WAAa,yBAAyB,aAAe,6B,mBCAzXD,EAAOC,QAAU,CAAC,cAAgB,mCAAmC,cAAgB,mCAAmC,uBAAyB,4CAA4C,iBAAmB,sCAAsC,kBAAoB,uCAAuC,kBAAoB,uCAAuC,YAAc,iCAAiC,aAAe,oC,mBCA1aD,EAAOC,QAAU,CAAC,oBAAsB,wCAAwC,yBAA2B,6CAA6C,yBAA2B,+C,mBCAnLD,EAAOC,QAAU,CAAC,oBAAsB,gDAAgD,yBAA2B,qDAAqD,yBAA2B,uD,mBCAnMD,EAAOC,QAAU,CAAC,qBAAuB,iDAAiD,yBAA2B,qDAAqD,kBAAoB,8CAA8C,qBAAuB,mD,mBCAnQD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,aAAe,4BAA4B,YAAc,2BAA2B,mBAAqB,kCAAkC,OAAS,sBAAsB,aAAe,4BAA4B,eAAiB,8BAA8B,oBAAsB,mCAAmC,yBAA2B,wCAAwC,yBAA2B,0C,mBCA1cD,EAAOC,QAAU,CAAC,YAAc,gCAAgC,YAAc,gCAAgC,WAAa,+BAA+B,YAAc,gCAAgC,YAAc,kC,wCCAtND,EAAOC,QAAU,CAAC,MAAQ,6BAA6B,aAAe,sC,mBCAtED,EAAOC,QAAU,CAAC,QAAU,qBAAqB,UAAY,+C","file":"static/js/main.49d9d608.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"details__order\":\"order-details_details__order__2lpjF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content__body\":\"main_content__body__r2UiT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order__tape\":\"profile-orders_order__tape__KJ1hN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth__container\":\"auth_auth__container__LSDf1\",\"auth__form\":\"auth_auth__form__14Y6D\",\"form__text\":\"auth_form__text__15PXQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app-header_container__34Anq src_container__15kJI\",\"header\":\"app-header_header__f6Ris\",\"header__content\":\"app-header_header__content__1Jiv5\",\"header__menu\":\"app-header_header__menu__8jjST\",\"header__list\":\"app-header_header__list__1l-e3\",\"header__link\":\"app-header_header__link__6e7FQ\",\"link\":\"app-header_link__1IKSZ\",\"link_active\":\"app-header_link_active__3z8Im\",\"header__logo\":\"app-header_header__logo__3rwpB\",\"header__profile\":\"app-header_header__profile__lQEgN\"};","import {\r\n  TypedUseSelectorHook,\r\n  useDispatch as dispatchHook,\r\n  useSelector as selectorHook\r\n} from 'react-redux';\r\nimport type { RootState, AppDispatch } from '../store/index';\r\n\r\nexport const useDispatch = () => dispatchHook<AppDispatch>();\r\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;\r\n","import { NavLink, Link } from 'react-router-dom';\r\nimport { Logo, BurgerIcon, ListIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './app-header.module.css';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.container +' pt-4 pb-4 '+ styles.header__content}>\r\n        <nav className={styles.header__menu}>\r\n          <ul className={styles.header__list}>\r\n            <li className='pr-5'>\r\n              <NavLink \r\n                exact to=\"/\"\r\n                className={isActive => styles.link + ' ' + (isActive ? styles.link_active : \"\")}\r\n              >\r\n                <BurgerIcon type=\"secondary\" />\r\n                <span className=\"ml-2\">Конструктор</span>\r\n              </NavLink>\r\n            </li>\r\n            <li className={\" pl-5 ml-2 \" + styles.header__link}>\r\n              <NavLink \r\n                to=\"/feed\"\r\n                className={isActive => styles.link + ' ' + (isActive ? styles.link_active : \"\")}\r\n              >\r\n                <ListIcon type=\"secondary\" />\r\n                <span className=\"ml-2\">Лента заказов</span>\r\n              </NavLink>\r\n            </li>   \r\n          </ul>\r\n        </nav>\r\n        <div className={styles.header__logo}>\r\n          <Link to=\"/\"><Logo /></Link>\r\n        </div>\r\n        <div className={styles.header__profile }>\r\n          <NavLink \r\n            to=\"/profile\"\r\n            className={isActive => styles.link + ' ' + (isActive ? styles.link_active : \"\")}\r\n          >\r\n            <ProfileIcon type=\"secondary\" />\r\n            <span className=\"ml-2 \">Личный кабинет</span>\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n","export const API_URL = 'https://norma.nomoreparties.space/api';\r\nexport const WSS_URL = 'wss://norma.nomoreparties.space/orders';\r\n","import { API_URL } from \"./constants\";\r\nimport axios from \"axios\";\r\n\r\nconst axiosAPI = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\naxiosAPI.interceptors.request.use(config => {\r\n  config.headers.Authorization = `Bearer ${localStorage.getItem('accessToken')}`;\r\n  return config;\r\n})\r\n\r\naxiosAPI.interceptors.response.use(config => {\r\n  return config;\r\n}, async (error) => {\r\n  const originalRequest = error.config;\r\n  if((error.response.status === 401 || error.response.status === 403) && !error.config._isRetry && originalRequest){\r\n    originalRequest._isRetry = true;\r\n    try {\r\n      const response = await axios.post(API_URL+'/auth/token', {token: localStorage.getItem('refreshToken')});\r\n      localStorage.setItem('refreshToken', response.data.refreshToken);\r\n      localStorage.setItem('accessToken', response.data.accessToken.split(' ')[1]);\r\n      return axiosAPI.request(originalRequest);\r\n    }catch (error) {\r\n      console.log('Авторизуйтесь');\r\n    }\r\n    throw error;\r\n  }\r\n})\r\n\r\nexport default axiosAPI;\r\n","import axiosAPI from \"../utils/api\";\r\nimport { AxiosResponse } from 'axios';\r\n\r\nimport {\r\n  IOrderSend,\r\n  IGetIngredients,\r\n  IGetOrders,\r\n} from \"../types/services/main-types\";\r\n\r\nexport default class MainService {\r\n  static async sendOrder(idIngredients: string[]): Promise<AxiosResponse<IOrderSend>>{\r\n    return axiosAPI.post<IOrderSend>('/orders', {ingredients: idIngredients})\r\n  }\r\n  static async getIngredients(): Promise<AxiosResponse<IGetIngredients>>{\r\n    return axiosAPI.get<IGetIngredients>('/ingredients')\r\n  }\r\n  static async getOrders(query: string): Promise<AxiosResponse<IGetOrders>>{\r\n    return axiosAPI.get<IGetOrders>(`/orders${query}`)\r\n  }\r\n}\r\n","import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport axiosAPI from \"../services/main-service\";\r\nimport { TIngredient } from \"../types/ingredient\";\r\n\r\nexport const requestIngredients = createAsyncThunk(\r\n  'ingredients/requestIngredients',\r\n  async () => {\r\n    const response = await axiosAPI.getIngredients();\r\n    return response.data;\r\n  }\r\n)\r\nexport type TIngredientsState = {\r\n  dataIngredients: TIngredient[];\r\n  isError: boolean;\r\n  isLoading: boolean;\r\n  currentIngredient: TIngredient | null;\r\n  isModalIngredientDetails: boolean;\r\n};\r\nconst initialState:TIngredientsState = {\r\n  dataIngredients: [],\r\n  isError: false,\r\n  isLoading: false,\r\n  currentIngredient: null,\r\n  isModalIngredientDetails: false,\r\n}\r\n\r\nconst ingredientsSlice = createSlice({\r\n  name: 'ingredients',\r\n  initialState,\r\n  reducers: {\r\n    ingredientCurrentIncrement: (state, action: PayloadAction<{item: TIngredient}>) => {\r\n      if(action.payload.item.type === 'bun') state.dataIngredients = state.dataIngredients.map((obj) => obj.type === 'bun' ? {...obj, __v: 0} : obj );\r\n      state.dataIngredients = state.dataIngredients.map((obj) => obj._id === action.payload.item._id ? {...obj, __v: obj.__v + 1} : obj );\r\n      state.dataIngredients = state.dataIngredients.map((obj) => (obj.type === 'bun' && obj._id === action.payload.item._id) ? {...obj, __v: 2} : obj);\r\n    },\r\n    ingredientCurrentDecrement: (state, action: PayloadAction<{id: string}>) => {\r\n      state.dataIngredients = state.dataIngredients.map((obj)=> obj._id === action.payload.id ? {...obj, __v: obj.__v - 1} : obj );\r\n    },\r\n    deletedAllCurrentIngredient: (state) => {\r\n      state.dataIngredients = state.dataIngredients.map((obj)=> ({...obj, __v: 0}) );\r\n    },\r\n    openModalIngredientDetails: (state, action: PayloadAction<{ingredient: TIngredient}>) => {\r\n      state.currentIngredient = action.payload.ingredient;\r\n      state.isModalIngredientDetails = true;\r\n    },\r\n    closeModalIngredientDetails: (state) => {\r\n      state.currentIngredient = null;\r\n      state.isModalIngredientDetails = false;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [requestIngredients.pending.toString()]: (state) => { state.isLoading = true},\r\n    [requestIngredients.fulfilled.toString()]: (state, action:PayloadAction<{data:TIngredient[]}>) => {\r\n      state.dataIngredients = action.payload.data;\r\n      state.isLoading = false;\r\n    },\r\n    [requestIngredients.rejected.toString()]: (state) => {\r\n      state.isError = true;\r\n      state.isLoading = false\r\n    },\r\n  }\r\n})\r\n\r\nexport const {\r\n  ingredientCurrentIncrement,\r\n  ingredientCurrentDecrement,\r\n  openModalIngredientDetails,\r\n  closeModalIngredientDetails,\r\n  deletedAllCurrentIngredient\r\n} = ingredientsSlice.actions;\r\nexport default ingredientsSlice.reducer;\r\n","import { FC } from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\nimport { useDispatch } from \"../../hooks/hooks\";\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { CurrencyIcon, Counter } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport { openModalIngredientDetails } from '../../store/ingredientsSlice';\r\nimport styles from './burger-ingredient.module.css';\r\nimport { TIngredient } from \"../../types/ingredient\";\r\n\r\ninterface IIngredientProps {\r\n  ingredient: TIngredient\r\n}\r\n\r\nconst IngredientCard: FC<IIngredientProps> = ({ingredient}) => {\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const [, dragRef] = useDrag({\r\n    type: \"ingredient\",\r\n    item: ingredient\r\n  });\r\n  const clickIngredient = (): void =>{\r\n    dispatch(openModalIngredientDetails({ingredient}));\r\n  }\r\n  return(\r\n    <div className={styles.cart__ingredient}\r\n      onClick={clickIngredient}\r\n      ref={dragRef}\r\n    >\r\n      <Link\r\n        key={ingredient._id}\r\n        to={{\r\n          pathname: `/ingredients/${ingredient._id}`,\r\n          state: { background: location }\r\n        }}\r\n      >\r\n      <span className={styles.icon__counter}>{ ingredient.__v !== 0 && <Counter count={ingredient.__v} size=\"small\" />}</span>\r\n      <img className=\"mr-4 ml-4\" src={ingredient.image} alt={ingredient.name} />\r\n      <p className=\"mt-1 text text_type_digits-default\">{ingredient.price} <CurrencyIcon type=\"primary\" /></p>\r\n      <p className=\"text text_type_main-default\">{ingredient.name}</p>\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default IngredientCard;\r\n","import { FC } from 'react';\r\n\r\nimport styles from './burger-ingredient.module.css';\r\nimport IngredientCard from \"./ingredient-card\";\r\nimport { TIngredient } from '../../types/ingredient';\r\n\r\ninterface IIngredientsPros {\r\n  data: TIngredient[];\r\n  type: string;\r\n  title: string;\r\n}\r\n\r\nconst Ingredients: FC<IIngredientsPros> = ({data, type, title}) => (\r\n  <section>\r\n    <h3 className='text text_type_main-medium three'>{title}</h3>\r\n    <div className={styles.burger__ingredient + \" mt-6 mr-2 ml-4\"}>\r\n      {data.map((item) => (\r\n        item.type === type &&\r\n          <IngredientCard \r\n            key={item._id}\r\n            ingredient={item}\r\n          />\r\n      ))}\r\n    </div>\r\n  </section>\r\n)\r\n\r\nexport default Ingredients;\r\n","import { useState, useRef, FC } from 'react';\r\nimport { useSelector } from '../../hooks/hooks';\r\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './burger-ingredient.module.css';\r\nimport Ingredients from './ingredients';\r\n\r\nconst BurgerIngredients: FC = () => {\r\n  const {isError, isLoading, dataIngredients} = useSelector((state) => state.ingredients);\r\n  const [current, setCurrent] = useState('one');\r\n  const ingredientsSection = useRef<HTMLDivElement>(null);\r\n  const bunRef = useRef<HTMLSpanElement>(null);\r\n  const sauceRef = useRef<HTMLSpanElement>(null);\r\n  const mainRef = useRef<HTMLSpanElement>(null);\r\n  \r\n  const onTabScroll = (): void => {\r\n    const scrollSection: number | undefined = ingredientsSection?.current?.getBoundingClientRect().top;\r\n    const bunList: number | undefined = bunRef?.current?.getBoundingClientRect().top;\r\n    const sauceList: number | undefined = sauceRef?.current?.getBoundingClientRect().top;\r\n    const mainList: number | undefined = mainRef?.current?.getBoundingClientRect().top;\r\n    if(scrollSection && bunList && sauceList && mainList) {\r\n      if(bunList <= scrollSection) setCurrent('one');\r\n      if(sauceList <= scrollSection) setCurrent('two');\r\n      if(mainList <= scrollSection) setCurrent('three');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className={styles.burger__content +' pt-10 pb-10'}>\r\n      <h1 className='text text_type_main-large'>Соберите бургер</h1>\r\n      {dataIngredients?.length > 0 && <div className={styles.dFlex + ' mt-5'}>\r\n        <span onClick={()=>{bunRef?.current?.scrollIntoView({behavior: \"smooth\"})}} id=\"bun\">\r\n          <Tab value=\"one\" active={current === 'one'} onClick={setCurrent}>\r\n            Булки\r\n          </Tab>\r\n        </span>\r\n        <span onClick={()=>{sauceRef?.current?.scrollIntoView({behavior: \"smooth\"})}} id=\"sauce\">\r\n          <Tab value=\"two\" active={current === 'two'} onClick={setCurrent}>\r\n            Соусы\r\n          </Tab>\r\n          </span>\r\n          <span onClick={()=>{mainRef?.current?.scrollIntoView({behavior: \"smooth\"})}} id=\"main\">\r\n          <Tab value=\"three\" active={current === 'three'} onClick={setCurrent}>\r\n            Начинки\r\n          </Tab>\r\n        </span>\r\n      </div>}\r\n      <div className={styles.tCenter +\" text text_type_main-default mt-3\"}>\r\n        {isError && <span>Невозможно загрузить данные, попробуйте обновить страницу</span>}\r\n        {isLoading && <span>Идет загрузка ...</span>}\r\n      </div>\r\n      {dataIngredients?.length > 0 && \r\n      <section \r\n        className={styles.wrapper__ingrediends}\r\n        ref={ingredientsSection}\r\n        onScroll={onTabScroll}\r\n      >\r\n        <section ref={bunRef}>\r\n          <Ingredients\r\n            data={dataIngredients}\r\n            type=\"bun\"\r\n            title=\"Булки\"\r\n          />\r\n        </section>\r\n        <section ref={sauceRef}>\r\n          <Ingredients\r\n            data={dataIngredients}\r\n            type=\"sauce\"\r\n            title=\"Соусы\"\r\n          />\r\n        </section>\r\n        <section ref={mainRef}>\r\n          <Ingredients\r\n            data={dataIngredients}\r\n            type=\"main\"\r\n            title=\"Начинки\"\r\n          />\r\n        </section>\r\n      </section>}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default BurgerIngredients;\r\n","import { FC, ReactNode } from 'react';\r\n\r\nimport styles from './modal-overlay.module.css';\r\n\r\ninterface IModalOverlayProps {\r\n  readonly active: boolean;\r\n  readonly closeModal: () => void;\r\n  readonly children: ReactNode;\r\n}\r\n\r\nconst ModalOverlay: FC<IModalOverlayProps> = ({active, closeModal, children}) => (\r\n  <div \r\n    className={active ? styles.modal+\" \"+styles.modal_active : styles.active}\r\n    onClick={closeModal}\r\n  >\r\n    {children} \r\n  </div>\r\n);\r\n\r\nexport default ModalOverlay;\r\n","import { useEffect, FC, ReactNode } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { History } from 'history';\r\nimport ReactDOM from 'react-dom';\r\nimport { useDispatch, useSelector } from '../../hooks/hooks';\r\nimport { ActionCreatorWithoutPayload } from '@reduxjs/toolkit';\r\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './modal.module.css';\r\nimport ModalOverlay from '../modal-overlay/modal-overlay';\r\n\r\nconst modalRoot = document.getElementById(\"modals\");\r\n\r\ninterface IModalProps {\r\n  readonly active: boolean;\r\n  readonly setActive: ActionCreatorWithoutPayload<string> | null;\r\n  title?: string;\r\n  readonly children: ReactNode;\r\n}\r\n\r\nconst Modal: FC<IModalProps> = ({active, setActive, title, children}) => {\r\n  const dispatch = useDispatch();\r\n  const history: History = useHistory();\r\n  const location = useLocation<{background:{pathname: string}}>();\r\n  const isLoadingOrderDetails = useSelector((state)=>state.constructors.order.isLoading);\r\n  \r\n  if(isLoadingOrderDetails) setActive = null;\r\n  \r\n  const closeModal = () => {\r\n    if(setActive) dispatch(setActive());\r\n\r\n    history.replace({\r\n      pathname: location?.state\r\n      ? `${location?.state?.background?.pathname}`\r\n      : '/'\r\n    });\r\n  }\r\n  \r\n  const closeModalEsc = ({key}: KeyboardEvent) => {\r\n    if (key === \"Escape\" ) closeModal();\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', closeModalEsc);\r\n    return () => document.removeEventListener('keydown', closeModalEsc);\r\n  })\r\n\r\n  return (active && modalRoot ? ReactDOM.createPortal(\r\n    (\r\n    <ModalOverlay\r\n      active={active}\r\n      closeModal={closeModal}\r\n    >\r\n      <div className={active ? styles.modal__body+\" \"+styles.modal__body_active : styles.modal__body} onClick={e=>e.stopPropagation()}>\r\n        <div className={\"text text_type_main-large \"+styles.header}>{title}</div>\r\n        <span className={styles.modal__close}>\r\n          <CloseIcon type=\"primary\" onClick={closeModal}/>\r\n        </span>\r\n        {children}\r\n      </div>\r\n    </ModalOverlay>\r\n    ),\r\n  modalRoot) : null);\r\n}\r\n\r\nexport default Modal;\r\n","export default __webpack_public_path__ + \"static/media/ready-icon.887b83be.gif\";","import { useSelector } from '../../hooks/hooks';\r\n\r\nimport styles from './order-details.module.css';\r\nimport readyIcon from '../../images/ready-icon.gif';\r\n\r\nexport default function OrderDetails() {\r\n  const { number, isError, isLoading } = useSelector((state) => state.constructors.order);\r\n  if(isError){\r\n    return <>Ошибка попробуйте еще раз ...</>\r\n  }\r\n  if(isLoading){\r\n    return <>Идет загрузка ...</>\r\n  }\r\n  return ( \r\n  <div className={styles.details__order}>\r\n    <p className=\"text text_type_digits-large mt-4\">{number}</p>\r\n    <p className=\"text text_type_main-medium mt-8\">идентификатор заказа</p>\r\n    <span className=\"mt-15\"><img src={readyIcon} alt=\"Готово\" height='120'/></span>\r\n    <p className=\"text text_type_main-default mt-15\">Ваш заказ начали готовить</p>\r\n    <p className=\"text text_type_main-default text_color_inactive mt-2 mb-20\">Дождитесь готовности на орбитальной станции</p>\r\n  </div> \r\n  )\r\n}\r\n","import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport axiosAPI from \"../services/main-service\";\r\nimport { TIngredient } from \"../types/ingredient\";\r\nimport { IOrderSend } from \"../types/services/main-types\";\r\n\r\nexport const sendOrder = createAsyncThunk(\r\n  'ingredients/sendOrder',\r\n  async (idIngredients: string[]) => { \r\n    //При отправке с заголовком Authorization запрос идет дольше\r\n    const response = await axiosAPI.sendOrder(idIngredients);\r\n    return response.data;\r\n  }\r\n)\r\n\r\ntype TOrder = {\r\n  number: number | null;\r\n    name: string;\r\n    isError: boolean;\r\n    isLoading: boolean;\r\n};\r\ntype TIngredientsNew = {\r\n  newId: number;\r\n} & TIngredient;\r\nexport type TConstructorState = {\r\n  ingredients: TIngredientsNew[];\r\n  bun: TIngredient | null;\r\n  order: TOrder;\r\n  isModalOrderDetails: boolean;\r\n};\r\nconst initialState: TConstructorState = {\r\n  ingredients: [],\r\n  bun: null,\r\n  order: {\r\n    number: null,\r\n    name: '',\r\n    isError: false,\r\n    isLoading: false,\r\n  },\r\n  isModalOrderDetails: false,\r\n}\r\n\r\nconst constructorSlice = createSlice({\r\n  name: 'constructor',\r\n  initialState,\r\n  reducers: {\r\n    addElementConstructor: (state, action: PayloadAction<{item:TIngredient}>) => {\r\n      const item = action.payload.item;\r\n      const newId =  state.ingredients.length;\r\n      state.ingredients.push({...item, newId:newId});\r\n    },\r\n    addBunConstructor: (state, action: PayloadAction<{item:TIngredient}>) => {\r\n      state.bun = action.payload.item;\r\n    },\r\n    deleteElementConstructor: (state, action: PayloadAction<{index:number;id:string}>) => {\r\n      state.ingredients = state.ingredients.filter((_, index: number) => index !== action.payload.index);\r\n    },\r\n    moveIngredientConstructor: (state, action: PayloadAction<{dragIndex:number;hoverIndex:number}>) => {\r\n      const newArr = [...state.ingredients]\r\n      const dragIngredient = state.ingredients[action.payload.dragIndex]\r\n      newArr.splice(action.payload.dragIndex, 1);\r\n      newArr.splice(action.payload.hoverIndex, 0, dragIngredient);      \r\n      state.ingredients = [...newArr];\r\n    },\r\n    openModalOrderDetails: (state) => {state.isModalOrderDetails = true},\r\n    closeModalOrderDetails: (state) => {state.isModalOrderDetails = false},\r\n  },\r\n  extraReducers: {\r\n    [sendOrder.pending.toString()]: (state) => {state.order.isLoading = true},\r\n    [sendOrder.fulfilled.toString()]: (state, action: PayloadAction<IOrderSend>) => {\r\n      state.order.number = action.payload.order.number;\r\n      state.ingredients = [];\r\n      state.bun = null;\r\n      state.order.name = action.payload.name;\r\n      state.order.isLoading = false;\r\n    },\r\n    [sendOrder.rejected.toString()]: (state) => {\r\n      state.order.isError = true;\r\n      state.order.isLoading = false;\r\n      state.order.number = null;\r\n      state.order.name = '';\r\n    },\r\n  }\r\n})\r\n\r\nexport const {\r\n  addElementConstructor,\r\n  addBunConstructor,\r\n  deleteElementConstructor,\r\n  moveIngredientConstructor,\r\n  openModalOrderDetails,\r\n  closeModalOrderDetails,\r\n} = constructorSlice.actions;\r\nexport default constructorSlice.reducer;\r\n","import { useRef, FC} from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useDrag, useDrop, DragSourceMonitor } from 'react-dnd';\r\nimport { XYCoord } from 'dnd-core'\r\nimport { ConstructorElement, DragIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport { ingredientCurrentDecrement } from '../../store/ingredientsSlice';\r\nimport { deleteElementConstructor, moveIngredientConstructor } from '../../store/constructorSlice';\r\nimport { TIngredient } from '../../types/ingredient';\r\n\r\ntype TIngredientItem = TIngredient & {newId: number};\r\n\r\ninterface DragItem {\r\n  index: number\r\n  id: string\r\n  type: string\r\n}\r\n\r\ntype TIngredientProps = {\r\n  data: TIngredientItem;\r\n  index: number;\r\n};\r\n\r\nconst IngedientElement: FC<TIngredientProps> = ({data, index}: TIngredientProps) => {\r\n  const dispatch = useDispatch();\r\n  const id = data._id;\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  const [, drop] = useDrop({\r\n    accept: 'ingredientItem',\r\n    hover: (item: DragItem, monitor) => {\r\n      if (!ref.current) return;\r\n      const dragIndex = item.index;\r\n      const hoverIndex = index;\r\n      if (dragIndex === hoverIndex) {return}\r\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\r\n      const clientOffset = monitor.getClientOffset();\r\n      const hoverClientY = (clientOffset as XYCoord).y - hoverBoundingRect.top;\r\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {return}\r\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {return}\r\n      dispatch(moveIngredientConstructor({dragIndex,hoverIndex}));\r\n      item.index = hoverIndex;\r\n    }\r\n  })\r\n  const [{isDragging}, drag] = useDrag({\r\n    type: 'ingredientItem',\r\n    item: () => {\r\n      return {id, index}\r\n    },\r\n    collect: (monitor: DragSourceMonitor<{\r\n      id: string;\r\n      index: number;\r\n  }, unknown>) => ({\r\n      isDragging: monitor.isDragging()\r\n    })\r\n  })\r\n\r\n  const opacity: number = isDragging ? 0 : 1;\r\n  drag(drop(ref))\r\n\r\n  return (\r\n    <span ref={ref} draggable style={{opacity}}>\r\n      <DragIcon type=\"primary\" />\r\n      <ConstructorElement\r\n        text={data.name}\r\n        price={data.price}\r\n        thumbnail={data.image}\r\n        handleClose={()=>{\r\n          dispatch(deleteElementConstructor({index, id}));\r\n          dispatch(ingredientCurrentDecrement({id}));\r\n        }}\r\n      />\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default IngedientElement;\r\n","import { FC } from 'react';\r\nimport { useSelector } from '../../hooks/hooks';\r\n\r\nimport styles from './burger-constructor.module.css';\r\nimport IngedientElement from './ingredient-element';\r\n\r\nconst Ingredients: FC = () => {\r\n  const listIngredients = useSelector((state) => state.constructors.ingredients);\r\n  return(  \r\n    <div className={styles.wrapper__ingrediends}>\r\n      {listIngredients.map((item, index) => (\r\n        <IngedientElement key={item.newId} index={index} data={item} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Ingredients;\r\n","import { FC } from 'react';\r\nimport { useDispatch, useSelector } from '../../hooks/hooks';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { History } from 'history';\r\nimport { useDrop } from \"react-dnd\";\r\nimport { ConstructorElement, CurrencyIcon, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './burger-constructor.module.css';\r\nimport Modal from '../modal/modal';\r\nimport OrderDetails from '../order-details/order-details';\r\nimport Ingredients from './ingredients';\r\nimport { TIngredient } from '../../types/ingredient';\r\n\r\nimport { ingredientCurrentIncrement, deletedAllCurrentIngredient } from '../../store/ingredientsSlice';\r\nimport {\r\n  sendOrder,\r\n  addElementConstructor,\r\n  addBunConstructor,\r\n  openModalOrderDetails,\r\n  closeModalOrderDetails,\r\n} from '../../store/constructorSlice';\r\n\r\nconst BurgerConstructor: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const history: History = useHistory();\r\n  const { ingredients, isModalOrderDetails} = useSelector((state) => state.constructors);\r\n  const bun = useSelector((state) => state.constructors.bun);\r\n\r\n  const [, dropTarget] = useDrop({\r\n    accept: \"ingredient\",\r\n    drop(item: TIngredient) {\r\n      if(item.type === 'bun'){\r\n        dispatch(addBunConstructor({item}))\r\n        dispatch(ingredientCurrentIncrement({item}))\r\n      } else {\r\n        dispatch(addElementConstructor({item}))\r\n        dispatch(ingredientCurrentIncrement({item}))\r\n      }\r\n    }\r\n  });\r\n\r\n  const totalPrice = ingredients.reduce((sum: number, current: TIngredient) => {\r\n    return sum + current?.price;\r\n  }, 0) + (bun?.price ? bun?.price * 2 : 0);\r\n\r\n  const handleClick = (): void => {\r\n    if(localStorage.getItem('accessToken')){\r\n      dispatch(openModalOrderDetails());\r\n      const idIngredients: string[] = [];\r\n      ingredients.forEach((element: TIngredient) => idIngredients.push(element._id));\r\n      if(bun) dispatch(sendOrder([bun._id, ...idIngredients, bun._id]));\r\n      dispatch(deletedAllCurrentIngredient());\r\n    } else {   \r\n      history.replace({pathname: '/login'})\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className={styles.constructor__content}ref={dropTarget}>\r\n      <section className={styles.constructor__ingredients} >\r\n        <span className=\"pl-10 \" style={{width:'552px'}}> \r\n          {bun ? <ConstructorElement\r\n            type=\"top\"\r\n            isLocked={true}\r\n            text={`${bun.name} (верх)`}\r\n            price={bun.price}\r\n            thumbnail={bun.image}\r\n          /> : 'Выберите булку из списка и перетащите её сюда :)'}\r\n        </span>\r\n        {ingredients.length > 0 ? \r\n          <Ingredients /> : \r\n          <span className=\"ml-10\">Выберите ингредиенты из списка и перетащите сюда</span>\r\n        }\r\n        <span className=\"pl-10\" style={{width:'552px'}}>\r\n          {bun && <ConstructorElement\r\n            type=\"bottom\"\r\n            isLocked={true}\r\n            text={`${bun.name} (низ)`}\r\n            price={bun.price}\r\n            thumbnail={bun.image}\r\n          />}\r\n        </span>\r\n      </section>  \r\n      <div className={\"mt-10 \" + styles.constructor__info}>\r\n        <span className=\"text text_type_digits-medium mr-10\"><span>{totalPrice}</span><CurrencyIcon type=\"primary\" /></span>\r\n        {bun ? <Button \r\n          type=\"primary\"\r\n          size=\"medium\"\r\n          onClick={handleClick}\r\n        >\r\n          Оформить заказ\r\n        </Button> : ''}\r\n      </div>\r\n      <Modal\r\n        active={isModalOrderDetails}\r\n        setActive={closeModalOrderDetails}\r\n        title=\"\"\r\n      >\r\n        <OrderDetails/>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BurgerConstructor;\r\n","import { FC } from 'react';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\n\r\nimport BurgerIngredients from \"../../components/burger-ingredients/burger-ingredients\";\r\nimport BurgerConstructor from \"../../components/burger-constructor/burger-constructor\";\r\nimport styles from './main.module.css';\r\n\r\nconst Main: FC = () => {\r\n  return(\r\n    <main className={styles.content__body}>\r\n      <DndProvider backend={HTML5Backend}>\r\n        <BurgerIngredients />\r\n        <BurgerConstructor />\r\n      </DndProvider>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import { API_URL } from \"../utils/constants\";\r\nimport axios from \"axios\";\r\nimport authAPI from \"../utils/api\";\r\nimport {AxiosResponse} from 'axios';\r\n\r\nimport {\r\n  IRegisterUser,\r\n  IForgotPassword,\r\n  ILoginUser,\r\n  IRefreshToken,\r\n  IResetPassword,\r\n  ILogoutUser,\r\n  IUpdateUser,\r\n  ICheckUser\r\n} from '../types/services/auth-types';\r\nimport { TUserInfo } from \"../types/types\";\r\n\r\nexport default class AuthService {\r\n  static async register({name, email, password}:TUserInfo &{password: string}): Promise<AxiosResponse<IRegisterUser>>{\r\n    return authAPI.post<IRegisterUser>('/auth/register', {name, email, password})\r\n  }\r\n  static async login({email, password}:{email: string; password: string}): Promise<AxiosResponse<ILoginUser>>{\r\n    return authAPI.post<ILoginUser>('/auth/login', {email, password})\r\n  }\r\n  static async logout(): Promise<AxiosResponse<ILogoutUser>>{\r\n    return authAPI.post<ILogoutUser>('/auth/logout', {token: localStorage.getItem('refreshToken')})\r\n  }\r\n  static async refreshToken(): Promise<AxiosResponse<IRefreshToken>>{\r\n    return authAPI.post<IRefreshToken>('/auth/token', {token: localStorage.getItem('refreshToken')})\r\n  }\r\n  static async checkUser(): Promise<AxiosResponse<ICheckUser>>{\r\n    return authAPI.get<ICheckUser>('/auth/user')\r\n  }\r\n  static async updateUser({name, email}:TUserInfo): Promise<AxiosResponse<IUpdateUser>>{\r\n    return authAPI.patch<IUpdateUser>('/auth/user', {name, email})\r\n  }\r\n  static async forgotPassword(email: string): Promise<AxiosResponse<IForgotPassword>>{\r\n    return axios.post<IForgotPassword>( API_URL+'/password-reset', {email})\r\n  }\r\n  static async resetPassword({password,token}:{token: string; password: string}): Promise<AxiosResponse<IResetPassword>>{\r\n    return axios.post<IResetPassword>( API_URL+'/password-reset/reset', {password,token})\r\n  }\r\n}\r\n","import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport AuthService from \"../services/auth-service\";\r\nimport { TUserInfo } from \"../types/types\";\r\nimport {\r\n  IRegisterUser,\r\n  ILoginUser,\r\n  IUpdateUser,\r\n  ICheckUser\r\n} from '../types/services/auth-types';\r\n\r\nexport const requestRegister = createAsyncThunk(\r\n  'auth/register',\r\n  async (formData:{state: TUserInfo &{password: string}}) => {\r\n    const response = await AuthService.register(formData.state);\r\n    return response.data;\r\n  }\r\n)\r\nexport const requestLogin = createAsyncThunk(\r\n  'auth/login',\r\n  async (formData:{state: {email:string; password: string}}) => {\r\n    const response = await AuthService.login(formData.state);\r\n    return response.data;\r\n  }\r\n)\r\nexport const requestLogout = createAsyncThunk(\r\n  'auth/logout',\r\n  async () => {\r\n    const response = await AuthService.logout();\r\n    return response.data;\r\n  }\r\n)\r\nexport const requestCheckAuth = createAsyncThunk(\r\n  'auth/checkAuth',\r\n  async () => {\r\n    const response = await AuthService.checkUser();\r\n    return response.data;\r\n  }\r\n)\r\nexport const requestUpdateUser = createAsyncThunk(\r\n  'auth/updateUser',\r\n  async (formData:{state: TUserInfo}) => {\r\n    const response = await AuthService.updateUser(formData.state);\r\n    return response.data;\r\n  }\r\n)\r\nexport const requestForgotPassword = createAsyncThunk(\r\n  'auth/forgotPassword',\r\n  async ({email}:{email: string}) => {\r\n    const response = await AuthService.forgotPassword(email);\r\n    return response.data;\r\n  }\r\n)\r\nexport const requestResetPassword = createAsyncThunk(\r\n  'auth/resetPassword',\r\n  async (formData:{token: string; password: string}) => {\r\n    const response = await AuthService.resetPassword(formData);\r\n    return response.data;\r\n  }\r\n)\r\n\r\ntype user = {\r\n  email: string;\r\n  name: string;\r\n}\r\n\r\nexport type TAuthState = {\r\n  user: user | null;\r\n  isAuth: boolean;\r\n  isError: boolean;\r\n  isLoading: boolean;\r\n  forgotStatus: boolean;\r\n  resetStatus: boolean;\r\n};\r\nconst initialState: TAuthState = {\r\n  user: null,\r\n  isAuth: false,\r\n  isError: false,\r\n  isLoading: false,\r\n  forgotStatus: false,\r\n  resetStatus: false,\r\n}\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: {\r\n    [requestRegister.fulfilled.toString()]: (state, action:PayloadAction<IRegisterUser>) => {\r\n      state.user = action.payload.user;\r\n      state.isAuth = true;\r\n      state.isError = false;\r\n      localStorage.setItem('refreshToken', action.payload.refreshToken);\r\n      localStorage.setItem('accessToken', action.payload.accessToken.split(' ')[1]);\r\n    },\r\n    [requestRegister.rejected.toString()]: (state) => {state.isError = true},\r\n\r\n    [requestLogin.fulfilled.toString()]: (state, action:PayloadAction<ILoginUser>) => { \r\n      state.user = action.payload.user;\r\n      state.isAuth = true;\r\n      state.isError = false;\r\n      localStorage.setItem('refreshToken', action.payload.refreshToken);\r\n      localStorage.setItem('accessToken', action.payload.accessToken.split(' ')[1]);\r\n    },\r\n    [requestLogin.rejected.toString()]: (state) => {state.isError = true},\r\n\r\n    [requestLogout.fulfilled.toString()]: (state) => {\r\n      state.user = null;\r\n      state.isAuth = false;\r\n      localStorage.removeItem('refreshToken');\r\n      localStorage.removeItem('accessToken');\r\n    },\r\n\r\n    [requestCheckAuth.pending.toString()]: (state) => {\r\n      state.isLoading = true;\r\n    },\r\n    [requestCheckAuth.fulfilled.toString()]: (state, action:PayloadAction<ICheckUser>) => {\r\n      state.user = action.payload.user;\r\n      state.isAuth = true;\r\n      state.isLoading = false;\r\n    },\r\n    [requestCheckAuth.rejected.toString()]: (state) => {\r\n      state.isError = true;\r\n      state.isLoading = false;\r\n    },\r\n\r\n    [requestUpdateUser.fulfilled.toString()]: (state, action:PayloadAction<IUpdateUser>) => {\r\n      state.user = action.payload.user;\r\n    },\r\n    [requestUpdateUser.rejected.toString()]: (state) => {state.isError = true},\r\n\r\n    [requestForgotPassword.fulfilled.toString()]: (state) => {\r\n      state.forgotStatus = true;\r\n    },\r\n    [requestForgotPassword.rejected.toString()]: (state) => {state.isError = true},\r\n\r\n    [requestResetPassword.fulfilled.toString()]: (state) => {\r\n      state.resetStatus = true;\r\n      state.forgotStatus = false;\r\n    },\r\n    [requestResetPassword.rejected.toString()]: (state) => {state.isError = true},\r\n  }, \r\n})\r\n\r\n// export const {} = authSlice.actions;\r\nexport default authSlice.reducer;\r\n","import { useState, MouseEvent, ChangeEvent, FC } from 'react';\r\nimport { Link, useLocation, Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from '../../hooks/hooks';\r\nimport { PasswordInput, Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './auth.module.css';\r\nimport './styles.css';\r\n\r\nimport { requestLogin } from '../../store/authSlice';\r\n\r\ninterface IFormState {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst Login: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation<{ from: {pathname?: string} }>();\r\n  const [state, setState] = useState<IFormState>({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const { isError } = useSelector((state)=>state.auth);\r\n\r\n  const onChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  const onSubmit = (e: MouseEvent<HTMLFormElement>): void => {\r\n    e.preventDefault();\r\n    dispatch(requestLogin({state}));\r\n  }\r\n  \r\n  if (localStorage.getItem('accessToken')) {\r\n      return (\r\n        <Redirect\r\n          to={ location?.state?.from || '/' }\r\n        />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.auth__container}>\r\n      <div className={styles.auth__form}>\r\n        <p className=\"text text_type_main-medium\">Вход</p>\r\n        <form onSubmit={onSubmit}>\r\n          <Input type={'email'} placeholder={'E-mail'} onChange={onChange} value={state.email} name={'email'}/>\r\n          <PasswordInput onChange={onChange} value={state.password} name={'password'} />\r\n          <Button type=\"primary\" size=\"medium\">Войти</Button>\r\n        </form>\r\n        {isError && <>Ошибка</>}\r\n        <p className={styles.form__text + \" mt-20 text text_type_main-default text_color_inactive\"}>Вы - новый пользователь?\r\n          <Link to='/register'> Зарегистрироваться</Link>\r\n        </p>\r\n        <p className={styles.form__text + \" mt-4 text text_type_main-default text_color_inactive\"}>Забыли пароль?\r\n          <Link to='/forgot-password'> Восстановить пароль</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","import { useState, FC, ChangeEvent, MouseEvent  } from 'react';\r\nimport { Link, useLocation, Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from '../../hooks/hooks';\r\nimport { PasswordInput, Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './auth.module.css';\r\nimport './styles.css';\r\n\r\nimport { requestRegister } from '../../store/authSlice';\r\n\r\ninterface IFormState {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst Register: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation<{ from: {pathname?: string} }>();\r\n  const [state, setState] = useState<IFormState>({\r\n    name: '',\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const { isError } = useSelector((state)=>state.auth);\r\n\r\n  const onChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  }\r\n  const onSubmit = (e: MouseEvent<HTMLFormElement>): void => {\r\n    e.preventDefault();\r\n    dispatch(requestRegister({state}))\r\n  }\r\n  if (localStorage.getItem('accessToken')) {\r\n    return (\r\n      <Redirect\r\n        to={ location?.state?.from?.pathname || '/' }\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.auth__container}>\r\n      <div className={styles.auth__form}>\r\n        <p className=\"text text_type_main-medium\">Регистрация</p>\r\n        <form onSubmit={onSubmit}>\r\n          <Input type={'text'} placeholder={'Имя'} onChange={onChange} value={state.name} name={'name'}/>\r\n          <Input type={'email'} placeholder={'E-mail'} onChange={onChange} value={state.email} name={'email'}/>\r\n          <PasswordInput onChange={onChange} value={state.password} name={'password'} />\r\n          <Button type=\"primary\" size=\"medium\">Зарегистрироваться</Button>\r\n        </form>\r\n        {isError && <>Ошибка</>}\r\n        <p className={styles.form__text + \" mt-20 text text_type_main-default text_color_inactive\"}>Уже зарегистрированы?\r\n          <Link to='/login'> Войти</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","import { useState, ChangeEvent, MouseEvent, FC } from 'react';\r\nimport { Link, Redirect, useHistory } from 'react-router-dom';\r\nimport { History } from 'history';\r\nimport { useSelector, useDispatch } from '../../hooks/hooks';\r\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './auth.module.css';\r\nimport './styles.css';\r\n\r\nimport { requestForgotPassword } from '../../store/authSlice'\r\n\r\ninterface IFormState {\r\n  email: string;\r\n}\r\n\r\nconst ForgotPassword: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const history: History = useHistory();\r\n  const [state, setState] = useState<IFormState>({\r\n    email: '',\r\n  })\r\n  const { isError, forgotStatus } = useSelector((state)=>state.auth);\r\n\r\n  const onChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  const onSubmit = (e: MouseEvent<HTMLFormElement>): void => {\r\n    e.preventDefault();\r\n    dispatch(requestForgotPassword(state))\r\n  }\r\n  \r\n  if (localStorage.getItem('accessToken')) {\r\n      return <Redirect to='/' />\r\n  }\r\n  //Нельзя вернуться на предыдущую страницу, если ответ от сервера успешный\r\n  //Ответ от сервера успешен всегда, даже когда поле пустое\r\n  if(forgotStatus){\r\n    return <Redirect to={{pathname: '/reset-password',state: { from: history.location }}} />\r\n  }\r\n\r\n  return (\r\n    <div className={styles.auth__container}>\r\n      <div className={styles.auth__form}>\r\n        <p className=\"text text_type_main-medium\">Восстановление пароля</p>\r\n        <form onSubmit={onSubmit}>\r\n          <Input type={'email'} placeholder={'Укажите e-mail'} onChange={onChange} value={state.email} name={'email'}/>\r\n          <Button type=\"primary\" size=\"medium\">Восстановить</Button>\r\n        </form>\r\n        {isError && <>Ошибка</>}\r\n        <p className={styles.form__text + \" mt-20 text text_type_main-default text_color_inactive\"}>Вспомнили пароль?\r\n          <Link to='/login'> Войти</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import { useState, ChangeEvent, MouseEvent, FC } from 'react';\r\nimport { Link, Redirect, useLocation } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from '../../hooks/hooks';\r\nimport { PasswordInput, Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './auth.module.css';\r\nimport './styles.css';\r\n\r\nimport { requestResetPassword } from '../../store/authSlice';\r\n\r\ninterface IFormState {\r\n  password: string;\r\n  token: string;\r\n}\r\n\r\nconst ResetPassword: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation<{ from: {pathname?: string} }>();\r\n  const [state, setState] = useState<IFormState>({\r\n    password: '',\r\n    token: ''\r\n  });\r\n  const { isError, resetStatus } = useSelector((state)=>state.auth);\r\n\r\n  const onChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  }\r\n  \r\n  const onSubmit = (e: MouseEvent<HTMLFormElement>): void => {\r\n    e.preventDefault();\r\n    dispatch(requestResetPassword(state))\r\n  }\r\n\r\n  if(resetStatus) return <Redirect to='/login' />\r\n\r\n  if (location.state?.from?.pathname !== \"/forgot-password\") return <Redirect to='/' />\r\n\r\n  return (\r\n    <div className={styles.auth__container}>\r\n      <div className={styles.auth__form}>\r\n        <p className=\"text text_type_main-medium\">Вход</p>\r\n        <form onSubmit={onSubmit}>\r\n          <PasswordInput onChange={onChange} value={state.password} name={'password'} />\r\n          <Input type={'text'} placeholder={'Введите код из письма'} onChange={onChange} value={state.token} name={'token'}/>\r\n          <Button type=\"primary\" size=\"medium\">Сохранить</Button>\r\n        </form>\r\n        {isError && <>Ошибка</>}\r\n        <p className={styles.form__text + \" mt-20 text text_type_main-default text_color_inactive\"}>Вспомнили пароль?\r\n          <Link to='/login'> Войти</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResetPassword;\r\n","import { useState, useEffect, FC, ChangeEvent, SyntheticEvent } from 'react';\r\nimport { useDispatch, useSelector } from '../../hooks/hooks';\r\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './profile.module.css';\r\nimport './styles.css';\r\n\r\nimport { requestUpdateUser } from '../../store/authSlice';\r\n\r\ninterface IFormState {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst ProfileSettings: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { isAuth, user } = useSelector((state) => state.auth);\r\n  const [state, setState] = useState<IFormState>({\r\n    name: '',\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  useEffect(()=>{\r\n    if(isAuth && user){\r\n      setState({\r\n        ...state,\r\n        name: user.name,\r\n        email: user.email\r\n      })\r\n    }\r\n  },[user]);\r\n\r\n  const onChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    });\r\n  }\r\n  const onSubmit = (e: SyntheticEvent): void => {\r\n    e.preventDefault();\r\n    dispatch(requestUpdateUser({state}))\r\n  };\r\n\r\n  const handleClickCancel = (e: SyntheticEvent): void => {\r\n    e.preventDefault();\r\n    if(user){\r\n      setState({\r\n        ...state,\r\n        name: user.name,\r\n        email: user.email\r\n      })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.profile__form}>\r\n      <form onSubmit={onSubmit}>\r\n        <Input icon='EditIcon' onIconClick={onSubmit} type={'text'} placeholder={'Имя'} onChange={onChange} value={state.name} name={'name'}/>\r\n        <Input icon='EditIcon' onIconClick={onSubmit} type={'email'} placeholder={'Логин'} onChange={onChange} value={state.email} name={'email'}/>\r\n        <Input icon='EditIcon' type={'password'} placeholder={'Пароль'} onChange={onChange} value={state.password} name={'password'}/>\r\n        <span className={styles.button__group}>\r\n          <Button type=\"primary\" size=\"medium\">Сохранить</Button>\r\n          <Button onClick={handleClickCancel} type=\"primary\" size=\"medium\">Отменить изменения</Button>\r\n        </span>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileSettings;\r\n","import moment, { Moment } from 'moment';\r\nimport 'moment/locale/ru'\r\n\r\nconst dateFormat = (date: Moment | string | undefined ) => {\r\n  moment.locale('ru');\r\n  date = moment(date);\r\n\r\n  // const day = moment(date).format('DD');\r\n  // const daysAgo = moment().subtract('days', day).fromNow();\r\n\r\n  let daysAgo: string = date.from(moment());\r\n  const timeGreenwich = `${moment(date).format('ZZ')[0]}${moment(date).format('ZZ')[2]}`;\r\n  const time = moment(date).format(`HH:mm i-[GMT]${timeGreenwich}`);\r\n\r\n  if (date.format('MMMM DD YYYY') === moment().subtract(1, 'days').format('MMMM DD YYYY')\r\n    || daysAgo === 'день назад'\r\n  ) {\r\n    daysAgo = 'Вчера';\r\n  }\r\n  if (date.format('MMMM DD YYYY') === moment().format('MMMM DD YYYY')) daysAgo = 'Сегодня';\r\n  \r\n  const newDate = `${daysAgo}, ${time}`;\r\n  \r\n  return newDate;\r\n}\r\n\r\nexport default dateFormat;\r\n","import { TIngredient } from \"../types/ingredient\";\r\n\r\nconst OrderPrice = (ingredients: TIngredient[] | null) => {\r\n  const price = ingredients?.reduce((sum: number, cur: TIngredient) => {\r\n    return sum + cur.price;\r\n  }, 0);\r\n\r\n  return price;\r\n}\r\n\r\nexport default OrderPrice;\r\n","import { TIngredient } from \"../types/ingredient\";\r\nimport { IOrderCard } from \"../types/order\";\r\n\r\nconst SelectIngredients = (order: IOrderCard, dataIngredients: TIngredient[]) => {\r\n\tconst ingredients: TIngredient[] = [];\r\n  order.ingredients.forEach((el) => {\r\n    dataIngredients.forEach((element) => {\r\n      if (el === element._id) ingredients.push(element);\r\n    });\r\n  });\r\n  \r\n\treturn ingredients;\r\n}\r\n\r\nexport default SelectIngredients;\r\n","const OrderStatus = (status: string | undefined) => {\r\n  return status === \"done\" && \r\n   <p className=\"text text_type_main-default mt-2\"\r\n    style={{color: '#00CCCC'}}\r\n  >Выполнен</p>\r\n}\r\n\r\nexport default OrderStatus;\r\n","import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport axiosAPI from \"../services/main-service\";\r\nimport { IOrderCard } from \"../types/order\";\r\nimport { IGetMessage } from \"../types/store/ws-orders-types\";\r\n\r\nexport const requestOrders = createAsyncThunk(\r\n    'wsOrders/requestOrders',\r\n    async (query :string) => {\r\n      const response = await axiosAPI.getOrders(query);\r\n      return response.data;\r\n    }\r\n  )\r\n\r\n  export type TOrdersState = {\r\n    orders: IOrderCard[] | null;\r\n    total: number | null;\r\n    totalToday: number | null;\r\n    message: string;\r\n    url: string;\r\n    isConnected: boolean;\r\n    isError: boolean;\r\n    isLoading: boolean;\r\n    statusCode: number | null;\r\n    isModalOrder: boolean;\r\n    orderModalTitle: string;\r\n  };\r\n  const initialState:TOrdersState = {\r\n    orders: [],\r\n    total: null,\r\n    totalToday: null,\r\n    message: '',\r\n    url: '',\r\n    isConnected: false,\r\n    isError: false,\r\n    isLoading: false,\r\n    statusCode: null,\r\n    isModalOrder: false,\r\n    orderModalTitle: '',\r\n  }\r\n\r\nconst wsOrders = createSlice({\r\n  name: 'wsOrders',\r\n  initialState,\r\n  reducers: {\r\n    wsConnectionStart: (state, action: PayloadAction<string>) => {\r\n      state.url = action.payload;\r\n      state.isLoading = true;\r\n    },\r\n    wsConnectionSuccess: (state) => {\r\n      state.isConnected = true;\r\n      state.isError = false;\r\n    },\r\n    wsGetMessage: (state, action: PayloadAction<IGetMessage>) => {\r\n      if(action.payload.success) {\r\n        state.orders = action.payload.orders;\r\n        state.total = action.payload.total;\r\n        state.totalToday = action.payload.totalToday;\r\n      } else {\r\n        state.message = action.payload?.message;\r\n      }\r\n      state.isLoading = false;\r\n    },\r\n    wsConnectionClosed: (state) => {\r\n      state.orders = null;\r\n      state.total = null;\r\n      state.totalToday = null;\r\n      state.isConnected = false;\r\n    },\r\n    wsConnectionClosedStatus: (state, action: PayloadAction<number>) => {\r\n      state.statusCode = action.payload;\r\n    },\r\n    wsConnectionError: (state) => {\r\n      state.isError = true;\r\n      state.isLoading = false;\r\n    },\r\n    orderModalOpen: (state, action: PayloadAction<string>) => {\r\n      state.isModalOrder = true;\r\n      state.orderModalTitle = action.payload;\r\n    },\r\n    orderModalClose: (state) => {\r\n      state.isModalOrder = false;\r\n      state.orderModalTitle = '';\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [requestOrders.pending.toString()]: (state) => { state.isLoading = true},\r\n    [requestOrders.fulfilled.toString()]: (state, action: PayloadAction<{orders:IOrderCard[]}>) => {\r\n      state.orders = action.payload.orders;\r\n      state.isLoading = false;\r\n    },\r\n    [requestOrders.rejected.toString()]: (state) => {\r\n      state.isError = true;\r\n      state.isLoading = false;\r\n    },\r\n  }\r\n})\r\n\r\nexport const {\r\n    wsConnectionStart,\r\n    wsConnectionSuccess,\r\n    wsGetMessage,\r\n    wsConnectionClosed,\r\n    wsConnectionClosedStatus,\r\n    wsConnectionError,\r\n    orderModalOpen,\r\n    orderModalClose,\r\n} = wsOrders.actions;\r\nexport default wsOrders.reducer;\r\n","import React, { FC } from 'react';\r\nimport { useSelector, useDispatch } from '../../hooks/hooks';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './order-card.module.css';\r\nimport dateFormat from '../../utils/date-format';\r\nimport OrderPrice from '../../utils/order-price';\r\nimport SelectIngredients from '../../utils/select-ingredients';\r\nimport OrderStatus from '../../utils/order-status';\r\nimport { orderModalOpen } from '../../store/wsOrdersSlice';\r\n\r\nimport { IOrderCard } from '../../types/order';\r\nimport { TIngredient } from '../../types/ingredient';\r\n\r\ninterface IOrderCardProps {\r\n  readonly order: IOrderCard;\r\n  status?: boolean;\r\n}\r\n\r\nconst OrderCard: FC<IOrderCardProps> = ({ order, status }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = history.location;\r\n  const { dataIngredients } = useSelector((state) => state.ingredients);\r\n  const ingredients: TIngredient[] = SelectIngredients(order, dataIngredients);\r\n  const path: string = history.location.pathname;\r\n  const handleClick = (): void => {\r\n    dispatch(orderModalOpen(order.number.toString()));\r\n  }\r\n\r\n  return (\r\n    <Link\r\n        key={order._id}\r\n        to={{\r\n          pathname: `${path}/${order._id}`,\r\n          state: { background: location }\r\n      }}\r\n      onClick={handleClick}\r\n      className={styles.order__card}\r\n      >\r\n      <div className={styles.order__info}>\r\n        <p className=\"text text_type_main-default\">#{order.number}</p>\r\n        <p className=\"text text_type_main-default text_color_inactive\">{dateFormat(order.updatedAt)}</p>\r\n      </div>\r\n      <p className=\"text text_type_main-medium mt-6\">{\r\n        order.name.length > 60 \r\n        ? `${order.name.slice(0, 60)}...`\r\n        : order.name\r\n      }</p>\r\n      { status && OrderStatus(order.status) }\r\n      <div className={styles.card__info}>\r\n        <div className={styles.card__image}>\r\n          {ingredients.length < 7 && ingredients.map((item, i) => (\r\n            <span key={i} style={{zIndex:49-i}}><img src={item.image} alt={item.name} /></span>\r\n          ))}\r\n          {ingredients.length > 6 && ingredients.map((item, i) => {\r\n            if(i < 5) return <span key={i} style={{zIndex:49-i}}><img src={item.image} alt={item.name} /></span>\r\n            if(i === 6) return <span key={i} ><p className=\"text text_type_digits-default\">+{order.ingredients.length-5}</p></span>\r\n            return null;\r\n          })}\r\n        </div>\r\n          <div className={\"mt-1 text text_type_digits-default \"+styles.card__price}>\r\n            {OrderPrice(ingredients)} <CurrencyIcon type=\"primary\" />\r\n          </div>\r\n      </div>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default OrderCard;\r\n","import { useEffect, FC } from 'react';\r\nimport { useDispatch, useSelector } from '../../hooks/hooks';\r\n\r\nimport styles from './profile-orders.module.css';\r\nimport { WSS_URL } from '../../utils/constants';\r\nimport OrderCard from '../../components/order-card/order-card';\r\nimport { wsConnectionStart, wsConnectionClosed } from '../../store/wsOrdersSlice';\r\nimport { requestCheckAuth } from '../../store/authSlice';\r\n\r\nimport { IOrderCard } from '../../types/order';\r\n\r\ninterface IOrdersInfo {\r\n  orders: IOrderCard[] | null;\r\n  isLoading: boolean;\r\n  statusCode: null | number;\r\n  message: string;\r\n}\r\n\r\nconst Orders: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { orders, isLoading, statusCode, message }: IOrdersInfo = useSelector((state) => state.wsOrders);\r\n  const token = localStorage.getItem('accessToken');\r\n\r\n  useEffect(()=> {\r\n    if (statusCode === 1006 && message === \"Invalid or missing token\" ) {\r\n      dispatch(requestCheckAuth());\r\n      dispatch(wsConnectionStart(`${WSS_URL}?token=${token}`));\r\n    }\r\n  },[dispatch, statusCode, message, token]);\r\n  \r\n  useEffect(()=> {\r\n    dispatch(wsConnectionStart(`${WSS_URL}?token=${token}`));\r\n    return () =>{\r\n      dispatch(wsConnectionClosed());\r\n    };\r\n  },[dispatch, token]);\r\n  \r\n  return (\r\n   <div className={styles.order__tape}>\r\n    {/* {isLoading && <>Загрузка...</>} */}\r\n    {\r\n      !isLoading && orders\r\n      ? [...orders].reverse().map((el: IOrderCard) => (<OrderCard key={el._id} order={el} status />))\r\n      : <>Загрузка...</>\r\n    }\r\n  </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default Orders;\r\n","import { useDispatch, useSelector } from '../../hooks/hooks';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './order.module.css';\r\nimport { requestOrders } from '../../store/wsOrdersSlice';\r\nimport dateFormat from '../../utils/date-format';\r\nimport SelectIngredients from '../../utils/select-ingredients';\r\nimport OrderPrice from '../../utils/order-price';\r\nimport OrderStatus from '../../utils/order-status';\r\n\r\nimport { TIngredient } from '../../types/ingredient';\r\nimport { IOrderCard } from '../../types/order';\r\n\r\nfunction Order() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { dataIngredients } = useSelector((state) => state.ingredients);\r\n  const { orders } = useSelector((state) => state.wsOrders);\r\n  const url: string = history.location.pathname.split('/').slice(1)[0];\r\n  let queryRequest = ''\r\n  url === 'feed'\r\n    ? queryRequest = '/all'\r\n    : queryRequest = `?token=${localStorage.getItem('accessToken')}`;\r\n  \r\n  useEffect(() => {\r\n    dispatch(requestOrders(queryRequest));\r\n  }, [dispatch, queryRequest]);\r\n\r\n  const id = history.location.pathname.split('/').pop();\r\n  const order: IOrderCard | undefined = orders?.filter(el => el._id === id)[0];\r\n  const ingredientsAll: TIngredient[] | null = order ? SelectIngredients(order, dataIngredients) : null;\r\n  const ingredientsList: object = {};\r\n  \r\n  const ingredients: TIngredient[] | null = ingredientsAll && ingredientsAll.filter((item: TIngredient, index: number) => {\r\n    if (ingredientsAll.indexOf(item) === index) {\r\n      ingredientsList[item._id] = 1;\r\n      return item;\r\n    } else ingredientsList[item._id] = ingredientsList[item._id] + 1;\r\n    return false;\r\n  });\r\n  \r\n  return (\r\n    <div className={styles.content__body}>\r\n      { order\r\n      ? <div> \r\n        <p className={\"text text_type_main-medium \"+styles.order__number}>#{order.number}</p>\r\n        <p className=\"text text_type_main-medium mt-10\">{order.name}</p>\r\n        <div className=\"text text_type_main-default mt-3\">{OrderStatus(order.status)}</div>\r\n        <p className=\"text text_type_main-medium mt-15\">Состав:</p>\r\n        <div className={styles.ingredients__container}>\r\n          { ingredients?.map((el) => (\r\n            <div key={el._id} className={styles.ingredient__info}>\r\n              <span className={styles.ingredient__image}><img src={el.image} alt={el.name} /></span>\r\n              <p className={\"text text_type_main-default \"+styles.ingredient__title}>{el.name}</p>\r\n              <p className={\"mt-1 text text_type_digits-default \"+styles.order__price}>\r\n                <span>{ingredientsList[el._id]} x {el.price}</span> <CurrencyIcon type=\"primary\" />\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className={styles.order__info}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">{dateFormat(order.updatedAt)}</p>\r\n          <p className={\"mt-1 text text_type_digits-default \"+styles.order__price}>\r\n              <span>{OrderPrice(ingredientsAll)}</span> <CurrencyIcon type=\"primary\" />\r\n          </p>\r\n        </div>\r\n      </div>\r\n      : <div className=\"text text_type_main-medium mt-10\">Такого заказа не найдено ....</div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Order;\r\n","import { FC } from 'react';\r\nimport { Route, Redirect, RouteProps } from 'react-router-dom';\r\nimport { useSelector } from '../../hooks/hooks';\r\n\r\nexport const ProtectedRoute: FC<RouteProps> = ({ children, ...rest }) =>  {\r\n    const { isAuth, isLoading, isError } = useSelector((state) => state.auth);\r\n\r\n    return (\r\n      <>{\r\n        !isLoading && !isError && <Route\r\n          {...rest}\r\n          render={({ location }) =>\r\n            isAuth ? (\r\n              children\r\n            ) : (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: '/login',\r\n                      state: { from: location }\r\n                    }}\r\n                  />\r\n                )\r\n          }\r\n        />\r\n      }</>\r\n  );\r\n}\r\n","import { FC } from 'react';\r\nimport { Switch, Route, NavLink, useHistory, useLocation } from 'react-router-dom';\r\nimport { useDispatch } from '../../hooks/hooks';\r\n\r\nimport styles from './profile.module.css';\r\nimport './styles.css';\r\nimport ProfileSettings from './profile-settings';\r\nimport Orders from '../profile-orders/profile-orders'\r\nimport Order from '../order-page/order';\r\nimport { ProtectedRoute } from '../../components/protected-route/protected-route';\r\nimport { TLocationHook } from '../../types/types';\r\n\r\nimport { requestLogout } from '../../store/authSlice';\r\n\r\nconst Profile: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation<{ background: TLocationHook }>();\r\n  const history = useHistory();\r\n\r\n  const background = history.action === 'PUSH' && location.state && location.state.background;\r\n  let menuInfo = '';\r\n\r\n  const handleLogout = () => {\r\n    dispatch(requestLogout());\r\n  }\r\n  \r\n  switch (location.pathname) {\r\n    case '/profile': menuInfo = 'В этом разделе вы можете изменить свои персональные данные'; break;\r\n    case '/profile/orders': menuInfo = 'В этом разделе вы можете просмотреть свою историю заказов'; break;\r\n    default: menuInfo = '';\r\n  }\r\n  \r\n  return (\r\n    <ProtectedRoute path=\"/profile\">\r\n      {location?.state?.background?.pathname === \"/profile/orders\" \r\n        ? (<Switch>\r\n          <Route exact path=\"/profile/orders/:id\" component={Order} />\r\n        </Switch>)\r\n        : (<div className={styles.profile__container}>\r\n        <div className={styles.profile__menu}>\r\n          <ul className={\"text text_type_main-medium text_color_inactive \"+styles.menu__list}>\r\n            <li><NavLink exact to='/profile' className={isActive => styles.link + ' ' + (isActive ? styles.link_active : \"\")}>Профиль</NavLink></li>\r\n            <li><NavLink to='/profile/orders' className={isActive => styles.link + ' ' + (isActive ? styles.link_active : \"\")}>История заказов</NavLink></li>\r\n            <li onClick={handleLogout}>Выход</li>\r\n          </ul>\r\n          <p className=\"text text_type_main-default text_color_inactive mt-20 \">{menuInfo}</p>\r\n        </div>\r\n        <div className={styles.profile__content}>\r\n          <Switch location={background || location}>\r\n            <Route exact path=\"/profile\" component={ProfileSettings} />\r\n            <Route exact path=\"/profile/orders\" component={Orders} />\r\n          </Switch>\r\n        </div>\r\n      </div>)}\r\n    </ProtectedRoute>\r\n  )\r\n}\r\n\r\nexport default Profile;\r\n","import { FC } from 'react';\r\nimport styles from './ingredient.module.css';\r\nimport { useSelector } from '../../hooks/hooks';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { TIngredient } from '../../types/ingredient';\r\n\r\nconst Ingredient: FC = () => {\r\n  const { id } = useParams<{id: string}>();\r\n  const {dataIngredients} = useSelector((state) => state.ingredients);\r\n  const info: TIngredient = dataIngredients.filter((el)=>el._id === id)[0];\r\n\r\n  return(\r\n    <>\r\n      {dataIngredients.length > 0 ?\r\n      <div className={styles.details__ingredient}>\r\n        <span><img src={info.image} alt={info.name} height='240'/></span>\r\n        <p className=\"text text_type_main-medium mt-4\">{info.name}</p>\r\n        <span className={\"mt-8 mb-5 \"+styles.details__ingredient_info}>\r\n          <p className={styles.details__ingredient_span+' text text_type_main-default text_color_inactive'}>\r\n            Калории,ккал<br/>\r\n            {info.calories}\r\n          </p>\r\n          <p className={styles.details__ingredient_span+' text text_type_main-default text_color_inactive ml-5'}>\r\n            Белки, г<br/>\r\n            <span>{info.proteins}</span>\r\n            </p>\r\n          <p className={styles.details__ingredient_span+' text text_type_main-default text_color_inactive ml-5'}>\r\n            Жиры, г<br/>\r\n            <span>{info.fat}</span>\r\n            </p>\r\n          <p className={styles.details__ingredient_span+' text text_type_main-default text_color_inactive ml-5'}>\r\n            Углеводы, г<br/>\r\n          <span>{info.carbohydrates}</span>\r\n          </p>\r\n        </span>\r\n      </div> : <span>Загрузка...</span>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Ingredient;\r\n","import { useDispatch, useSelector } from '../../hooks/hooks';\r\nimport { useEffect } from 'react';\r\n\r\nimport styles from './feed.module.css';\r\nimport { WSS_URL } from '../../utils/constants';\r\nimport OrderCard from '../../components/order-card/order-card';\r\nimport { wsConnectionStart, wsConnectionClosed } from '../../store/wsOrdersSlice';\r\nimport { IOrderCard } from '../../types/order';\r\n\r\nfunction Feed() {\r\n  const dispatch = useDispatch();\r\n  const orders = useSelector((state) => state.wsOrders.orders);\r\n  const { total, totalToday, isLoading } = useSelector((state) => state.wsOrders);\r\n\r\n  useEffect(()=> {\r\n    dispatch(wsConnectionStart(`${WSS_URL}/all`));\r\n    return () =>{\r\n       dispatch(wsConnectionClosed());\r\n    };\r\n  },[dispatch])\r\n  \r\n  return (\r\n    <main className={styles.content__body}>\r\n      <h1 className=\"text text_type_main-large mt-10\">Лента заказов</h1>\r\n      <div className={styles.order__container}>\r\n        <div className={styles.order__tape}>\r\n          {\r\n            !isLoading && orders\r\n            ? orders.map((el: IOrderCard) => (<OrderCard key={el._id} order={el} status={false} />))\r\n            : <>Загрузка...</>\r\n          }\r\n        </div>\r\n        <div className={styles.order__info}>\r\n          <div className={styles.info__table}>\r\n            <div className={styles.table__ready}>\r\n              <p className=\"text text_type_main-medium\">Готовы:</p>\r\n              <div>\r\n                {\r\n                  !isLoading && orders\r\n                  ? orders.map((el: IOrderCard) => (\r\n                    el.status === 'done' && <p className=\"text text_type_main-default mr-5\" key={el._id} >{el.number}</p>\r\n                  ))\r\n                  : <>Загрузка...</>\r\n                }\r\n              </div>\r\n            </div>\r\n              <div className={styles.table__preparing}>\r\n              <p className=\"text text_type_main-medium\">В работе:</p>\r\n              <div>\r\n                {\r\n                  !isLoading && orders\r\n                  ? orders.map((el: IOrderCard) => (\r\n                    el.status !== 'done' && <p className=\"text text_type_main-default\" key={el._id} >{el.number}</p>\r\n                  ))\r\n                  : <>Загрузка...</>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={styles.order__all}>\r\n            <p className=\"text text_type_main-medium\">Выполнено за все время:</p>\r\n            <p className=\"text text_type_digits-large\">{total}</p>\r\n          </div>\r\n          <div className={styles.order__today}>\r\n            <p className=\"text text_type_main-medium\">Выполнено за сегодня:</p>\r\n            <p className=\"text text_type_digits-large\">{totalToday}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Feed;\r\n","import { useSelector } from '../../hooks/hooks';\r\n\r\nimport styles from './ingredient-details.module.css';\r\nimport { TIngredient } from '../../types/ingredient';\r\n\r\nexport default function IngredientDetails() {\r\n  const info: TIngredient | null = useSelector((state) => state.ingredients.currentIngredient);\r\n\r\n  return(\r\n  <div className={styles.details__ingredient}>\r\n    <span><img src={info?.image} alt={info?.name} height='240'/></span>\r\n    <p className=\"text text_type_main-medium mt-4\">{info?.name}</p>\r\n    <span className={\"mt-8 mb-5 \"+styles.details__ingredient_info}>\r\n      <p className={styles.details__ingredient_span+' text text_type_main-default text_color_inactive'}>\r\n        Калории,ккал<br/>\r\n        {info?.calories}\r\n      </p>\r\n      <p className={styles.details__ingredient_span+' text text_type_main-default text_color_inactive ml-5'}>\r\n        Белки, г<br/>\r\n        <span>{info?.proteins}</span>\r\n      </p>\r\n      <p className={styles.details__ingredient_span+' text text_type_main-default text_color_inactive ml-5'}>\r\n        Жиры, г<br/>\r\n        <span>{info?.fat}</span>\r\n      </p>\r\n      <p className={styles.details__ingredient_span+' text text_type_main-default text_color_inactive ml-5'}>\r\n        Углеводы, г<br/>\r\n        <span>{info?.carbohydrates}</span>\r\n      </p>\r\n    </span>\r\n  </div>\r\n  )\r\n}\r\n","import { useSelector } from '../../hooks/hooks';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport styles from './order-modal.module.css';\r\nimport dateFormat from '../../utils/date-format';\r\nimport SelectIngredients from '../../utils/select-ingredients';\r\nimport OrderPrice from '../../utils/order-price';\r\nimport OrderStatus from '../../utils/order-status';\r\nimport { IOrderCard } from '../../types/order';\r\nimport { TIngredient } from '../../types/ingredient';\r\n\r\nexport default function OrderModal() {\r\n  const history = useHistory();\r\n  const { dataIngredients } = useSelector((state) => state.ingredients);\r\n  const { orders } = useSelector((state) => state.wsOrders);\r\n\r\n  const id = history.location.pathname.split('/').pop();\r\n  const order: IOrderCard | undefined = orders?.filter(el => el._id === id)[0];\r\n  const ingredientsAll: TIngredient[] | null = order ? SelectIngredients(order, dataIngredients) : null;\r\n  const ingredientsList: object = {};\r\n\r\n  const ingredients: TIngredient[] | null = ingredientsAll && ingredientsAll.filter((item, index) => {\r\n    if (ingredientsAll.indexOf(item) === index) {\r\n      ingredientsList[item._id] = 1;\r\n      return item;\r\n    } else ingredientsList[item._id] = ingredientsList[item._id] + 1;\r\n    return false;\r\n  });\r\n\r\n  return ( \r\n    <div className={styles.content__body}>\r\n      <p className=\"text text_type_main-medium\">{order?.name}</p>\r\n      <div className=\"text text_type_main-default mt-3\">{OrderStatus(order?.status)}</div>\r\n      <p className=\"text text_type_main-medium mt-15\">Состав:</p>\r\n      <div className={styles.ingredients__container}>\r\n        { ingredients?.map((el) => (\r\n          <div key={el._id} className={styles.ingredient__info}>\r\n            <span className={styles.ingredient__image}><img src={el.image} alt={el.name}/></span>\r\n            <p className={\"text text_type_main-default \"+styles.ingredient__title}>{el.name}</p>\r\n            <p className={\"mt-1 text text_type_digits-default \"+styles.order__price}>\r\n              <span>{ingredientsList[el._id]} x {el.price}</span> <CurrencyIcon type=\"primary\" />\r\n            </p>\r\n          </div>\r\n        )) }\r\n      </div>\r\n      <div className={styles.order__info}>\r\n        <p className=\"text text_type_main-default text_color_inactive\">{dateFormat(order?.updatedAt)}</p>\r\n        <p className={\"mt-1 text text_type_digits-default \"+styles.order__price}>\r\n            <span>{OrderPrice(ingredientsAll)}</span> <CurrencyIcon type=\"primary\" />\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { FC } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NotFound: FC = () => (\r\n  <div >\r\n    Упс.... <br />\r\n    Такой страницы нет <br />\r\n    <Link to='/'>На главную</Link>\r\n  </div>\r\n);\r\n\r\nexport default NotFound;\r\n","import { useDispatch, useSelector } from '../../hooks/hooks';\r\nimport { Switch, Route, useLocation, useHistory } from 'react-router-dom';\r\nimport { History } from 'history';\r\nimport { useEffect } from 'react';\r\n\r\nimport styles from './app.module.css';\r\nimport Header from '../app-header/app-header';\r\nimport Main from '../../pages/main/main';\r\nimport Login from '../../pages/auth/login';\r\nimport Register from '../../pages/auth/register';\r\nimport ForgotPassword from '../../pages/auth/forgot-password';\r\nimport ResetPassword from '../../pages/auth/reset-password';\r\nimport Profile from '../../pages/user/profile';\r\nimport Ingredient from '../../pages/ingredient-page/ingredient';\r\nimport Feed from '../../pages/feed/feed';\r\nimport Modal from '../modal/modal';\r\nimport IngredientDetails from '../ingredient-details/ingredient-details';\r\nimport Order from '../../pages/order-page/order';\r\nimport OrderModal from '../order-modal/order-modal';\r\nimport NotFound from '../../pages/not-found/not-fount';\r\nimport { TLocationHook } from '../../types/types';\r\n\r\nimport { requestCheckAuth } from '../../store/authSlice'\r\nimport { requestIngredients, closeModalIngredientDetails } from '../../store/ingredientsSlice';\r\nimport { orderModalClose } from '../../store/wsOrdersSlice';\r\n\r\nfunction App() { \r\n  const dispatch = useDispatch();\r\n  const location = useLocation<{ background: TLocationHook }>();\r\n  const history: History = useHistory();\r\n\r\n  const { isModalIngredientDetails } = useSelector((state) => state.ingredients);\r\n  const { isModalOrder, orderModalTitle } = useSelector((state) => state.wsOrders);\r\n  const background = history.action === 'PUSH' && location.state && location.state.background;\r\n  \r\n  useEffect(()=>{\r\n    if(localStorage.getItem('accessToken')) dispatch(requestCheckAuth());\r\n    dispatch(requestIngredients());\r\n  },[dispatch]);\r\n  \r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <Header />\r\n      <div className={styles.container}>\r\n        <Switch location={background || location}>\r\n          <Route exact path=\"/\" component={Main} />\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/register\" component={Register} />\r\n          <Route exact path=\"/forgot-password\" component={ForgotPassword} />\r\n          <Route exact path=\"/reset-password\" component={ResetPassword} />\r\n          <Route path=\"/profile\" component={Profile} />\r\n          <Route exact path=\"/feed\" component={Feed} />\r\n          <Route exact path=\"/feed/:id\" component={Order} />\r\n          <Route exact path=\"/ingredients/:id\" component={Ingredient} />\r\n          <Route component={NotFound} />\r\n        </Switch>\r\n        {background && <Route path=\"/ingredients/:id\" children={\r\n          <Modal \r\n            active={isModalIngredientDetails}\r\n            setActive={closeModalIngredientDetails}\r\n            title=\"Детали ингредиента\" >\r\n              <IngredientDetails />\r\n          </Modal>\r\n        }/>}\r\n        {background && <Route path={`${background.pathname}/:id`} children={\r\n          <Modal \r\n            active={isModalOrder}\r\n            setActive={orderModalClose}\r\n            title={`#${orderModalTitle}`} >\r\n              <OrderModal />\r\n          </Modal>\r\n        }/>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport ingredientReducer from './ingredientsSlice'\r\nimport constructorReducer from './constructorSlice';\r\nimport authReducer from './authSlice';\r\nimport wsOrdersReducer from './wsOrdersSlice';\r\nimport { socketMiddleware } from './middleware/wsOrdersMiddleware';\r\n\r\nconst store = configureStore({\r\n  reducer : {\r\n    ingredients: ingredientReducer,\r\n    constructors: constructorReducer,\r\n    auth: authReducer,\r\n    wsOrders: wsOrdersReducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware().concat(socketMiddleware()),\r\n})\r\n\r\nexport default store;\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n","import { Dispatch, Action } from 'redux';\r\n\r\nimport {\r\n  wsConnectionStart,\r\n  wsConnectionClosed,\r\n  wsConnectionClosedStatus,\r\n  wsConnectionError,\r\n  wsConnectionSuccess,\r\n  wsGetMessage,\r\n} from \"../wsOrdersSlice\";\r\n\r\nexport const socketMiddleware = () => {\r\n  return (store: {dispatch: Dispatch}) => {\r\n    let socket: WebSocket;\r\n\r\n    return (next: Dispatch) => (action: Action & {payload: string}) => {\r\n      const { dispatch } = store;\r\n      const { type, payload } = action;\r\n\r\n      if (type === wsConnectionStart.toString()) {\r\n        socket = new WebSocket(payload);\r\n      }\r\n\r\n      if (socket) {\r\n        socket.onopen = () => {\r\n          dispatch(wsConnectionSuccess());\r\n        };\r\n\r\n        socket.onmessage = (event: MessageEvent<string>) => {\r\n          const message = event.data;\r\n          const data = JSON.parse(message);\r\n          dispatch(wsGetMessage(data));\r\n        };\r\n\r\n        socket.onerror = () => {\r\n          dispatch(wsConnectionError());\r\n        };\r\n\r\n        socket.onclose = (event:{code:number}) => {\r\n          dispatch(wsConnectionClosedStatus(event.code));\r\n        };\r\n      }\r\n      \r\n      if (type === wsConnectionClosed.toString()) {\r\n        socket.close(1000);\r\n      }\r\n\r\n      next(action);\r\n    };\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router} from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/app';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './store';\r\n\r\nReactDOM.render((\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>\r\n  ),document.getElementById('root'));\r\n\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__container\":\"profile_profile__container__2vViE\",\"profile__menu\":\"profile_profile__menu__3PsfC\",\"menu__list\":\"profile_menu__list__34EZu\",\"link\":\"profile_link__16csJ\",\"link_active\":\"profile_link_active__3vXib\",\"profile__content\":\"profile_profile__content__1g28a\",\"profile__form\":\"profile_profile__form__3DZ1p\",\"button__group\":\"profile_button__group__2XMpU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger__content\":\"burger-ingredient_burger__content__17Zxg\",\"wrapper__ingrediends\":\"burger-ingredient_wrapper__ingrediends__33mhS\",\"burger__ingredient\":\"burger-ingredient_burger__ingredient__3ZMjq\",\"cart__ingredient\":\"burger-ingredient_cart__ingredient__1zMEV\",\"icon__counter\":\"burger-ingredient_icon__counter__MfNDe\",\"dFlex\":\"burger-ingredient_dFlex__1PWcI\",\"tCenter\":\"burger-ingredient_tCenter__3vWrO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content__body\":\"order_content__body__2dlod\",\"order__number\":\"order_order__number__16L19\",\"ingredients__container\":\"order_ingredients__container__Naor8\",\"ingredient__info\":\"order_ingredient__info__1r9w_\",\"ingredient__image\":\"order_ingredient__image__wGqEh\",\"ingredient__title\":\"order_ingredient__title__2gGOh\",\"order__info\":\"order_order__info__1DHo3\",\"order__price\":\"order_order__price__1FAvN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content__body\":\"feed_content__body__xDv9l\",\"order__container\":\"feed_order__container__n411h\",\"order__tape\":\"feed_order__tape__2fQyR\",\"order__info\":\"feed_order__info__2Gwmc\",\"info__table\":\"feed_info__table__3oHA9\",\"table__ready\":\"feed_table__ready__3MgtW\",\"table__preparing\":\"feed_table__preparing__1cx0h\",\"order__all\":\"feed_order__all__2b1yM\",\"order__today\":\"feed_order__today__1GvtC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content__body\":\"order-modal_content__body__2z0Om\",\"order__number\":\"order-modal_order__number__2WNHr\",\"ingredients__container\":\"order-modal_ingredients__container__2j_cm\",\"ingredient__info\":\"order-modal_ingredient__info__3sRCM\",\"ingredient__image\":\"order-modal_ingredient__image__3Mhn2\",\"ingredient__title\":\"order-modal_ingredient__title__2mzSE\",\"order__info\":\"order-modal_order__info__1OXy4\",\"order__price\":\"order-modal_order__price__lJYFF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details__ingredient\":\"ingredient_details__ingredient__2sMHa\",\"details__ingredient_info\":\"ingredient_details__ingredient_info__27LKw\",\"details__ingredient_span\":\"ingredient_details__ingredient_span__38Uwq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details__ingredient\":\"ingredient-details_details__ingredient__Ftb_W\",\"details__ingredient_info\":\"ingredient-details_details__ingredient_info__6-XF0\",\"details__ingredient_span\":\"ingredient-details_details__ingredient_span__3ftsj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"constructor__content\":\"burger-constructor_constructor__content__1vWo3\",\"constructor__ingredients\":\"burger-constructor_constructor__ingredients__2GKoV\",\"constructor__info\":\"burger-constructor_constructor__info__38FdR\",\"wrapper__ingrediends\":\"burger-constructor_wrapper__ingrediends__2FoO8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__2a6V_\",\"modal_active\":\"modal_modal_active__1SoXX\",\"modal__body\":\"modal_modal__body__1fClD\",\"modal__body_active\":\"modal_modal__body_active__3odvu\",\"header\":\"modal_header__30ZDs\",\"modal__close\":\"modal_modal__close__nwmNw\",\"details__order\":\"modal_details__order__wme9e\",\"details__ingredient\":\"modal_details__ingredient__2ikOA\",\"details__ingredient_info\":\"modal_details__ingredient_info__3WSgm\",\"details__ingredient_span\":\"modal_details__ingredient_span__TUxuQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order__card\":\"order-card_order__card__3ya6O\",\"order__info\":\"order-card_order__info__3qW3N\",\"card__info\":\"order-card_card__info__3U2Vm\",\"card__image\":\"order-card_card__image__2vZG7\",\"card__price\":\"order-card_card__price__27RzX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal-overlay_modal__3hh0X\",\"modal_active\":\"modal-overlay_modal_active__3lcOb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"app_wrapper__j9RjN\",\"container\":\"app_container__tpsQm src_container__15kJI\"};"],"sourceRoot":""}